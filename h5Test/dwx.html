<html>
<body>
    <dev>
        <input type="button" value="触发" onclick="onClick()"/>
    </dev>
</body>
<script>
    function onClick() {
        console.log("-------web--------onClick----->>cocos JS-------------", window.isNative)
        if (window.isNative) {
            //android or ios
            let data = {a:2};
            data = JSON.stringify(data);
            document.location = `testkey://${data}`;
        } else {
            //browser 浏览器下，向cocos发送消息
            parent.postMessage("------------hello!-----cocos---------", "*")
        }
    }

    window.addEventListener('message', function (e) {

        var data = e.data;  //e.data  里面有自己所传的所有参数  可以根据参数做自己的判断
        console.log("--------------this is web message--------------", data)
    })

    function Test () {
        console.log(`dwx2222`);
    }
</script>
</html>