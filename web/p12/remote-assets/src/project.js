System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///Define.js",["cc"],(function(e,o){var t,h,n,r,u,i,L;return e({GameEnv:void 0,RoleSex:void 0,ResType:void 0,OperationType:void 0,Sex:void 0}),{setters:[function(e){t=e.cclegacy,h=e.Prefab}],execute:function(){t._RF.push({},"9548dQYDpJAHLsbsL2WfqMJ","Define",void 0),function(e){e[e.Debug=0]="Debug",e[e.ONLINE=1]="ONLINE"}(n||e("GameEnv",n={})),e("TableName",{Role:"role"}),e("EventName",{EVT_ADDBODY:"addBody",EVT_SUBBDOY:"subBody",EVT_BODYCHANGE:"bodyChange",EVT_BODYCOLORCHANGE:"bodyColorChange",EVT_GAMEINIT:"gameInit",EVT_BODYANIM:"bodyAnim",EVT_ARKIT:"arkit",EVT_CHANGEBG:"changeBg",EVT_CHANGESROLECALE:"changeRoleScale",EVT_SCREENSHOT:"screenshot",EVT_HOTUPDATE:"hotUpdate",EVT_CHECHUPDATE:"checkUpdate"}),e("GameRes",[{url:"prefab/male_role_1001",type:h},{url:"prefab/female_role_1002",type:h},{url:"prefab/Layout",type:h}]),function(e){e[e.Boy=0]="Boy",e[e.Girl=1]="Girl"}(r||e("RoleSex",r={})),e("FacePart",{cheekPuff:"cheekPuff",cheekSquint_L:"cheekSquintLeft",cheekSquint_R:"cheekSquintRight",eyeBlink_L:"eyeBlinkLeft",eyeBlink_R:"eyeBlinkRight",eyeLookDown_L:"eyeLookDownLeft",eyeLookDown_R:"eyeLookDownRight",eyeLookIn_L:"eyeLookOutLeft",eyeLookIn_R:"eyeLookInRight",eyeLookOut_L:"eyeLookOutLeft",eyeLookOut_R:"eyeLookOutRight",eyeLookUp_L:"eyeLookUpLeft",eyeLookUp_R:"eyeLookUpRight",eyeSquint_L:"eyeSquintLeft",eyeSquint_R:"eyeSquintRight",eyeWide_L:"eyeWideLeft",eyeWide_R:"eyeWideRight",jawForward:"jawForward",jawLeft:"jawLeft",jawOpen:"jawOpen",jawRight:"jawRight",mouthClose:"mouthClose",mouthDimple_L:"mouthDimpleLeft",mouthDimple_R:"mouthDimpleRight",mouthFrown_L:"mouthFrownLeft",mouthFrown_R:"mouthFrownRight",mouthFunnel:"mouthFunnel",mouthLeft:"mouthLeft",mouthLowerDown_L:"mouthLowerDownLeft",mouthLowerDown_R:"mouthLowerDownRight",mouthPress_L:"mouthPressLeft",mouthPress_R:"mouthPressRight",mouthPucker:"mouthPucker",mouthRight:"mouthRight",mouthRollLower:"mouthRollLower",mouthRollUpper:"mouthRollUpper",mouthShrugLower:"mouthShrugLower",mouthShrugUpper:"mouthShrugUpper",mouthSmile_L:"mouthSmileLeft",mouthSmile_R:"mouthSmileRight",mouthStretch_L:"mouthStretchLeft",mouthStretch_R:"mouthStretchRight",mouthUpperUp_L:"mouthUpperUpLeft",mouthUpperUp_R:"mouthUpperUpRight",noseSneer_L:"noseSneerLeft",noseSneer_R:"noseSneerRight",tongueOut:"tongueOut"}),e("EyeBrowPart",{browDown_L:"browDownLeft",browDown_R:"browDownRight",browInnerUp:"browInnerUp",browOuterUp_L:"browOuterUpLeft",browOuterUp_R:"browOuterUpRight"}),function(e){e[e.role=0]="role",e[e.top=2]="top",e[e.hairs=1]="hairs",e[e.shoes=4]="shoes",e[e.ears=5]="ears",e[e.glasses=5]="glasses",e[e.down=3]="down"}(u||e("ResType",u={})),function(e){e[e.Init=0]="Init",e[e.ChangeBody=1]="ChangeBody",e[e.ChangeBodyColor=2]="ChangeBodyColor",e[e.ChangeBg=3]="ChangeBg",e[e.RoleAnim=4]="RoleAnim",e[e.RoleScale=5]="RoleScale",e[e.ARKit=6]="ARKit",e[e.Screenshot=7]="Screenshot",e[e.CheckHotUpdate=8]="CheckHotUpdate",e[e.HotUpdate=9]="HotUpdate",e[e.GetGameData=10]="GetGameData"}(i||e("OperationType",i={})),function(e){e[e.Boy=0]="Boy",e[e.Girl=1]="Girl"}(L||e("Sex",L={})),e("HotUpdateState",{NEW_VERSION_FOUND:1,STARTUPDATE:2,UPDATE_PROGRESSION:3,UPDATE_FINISHED:4,UPDATE_FAILED:5}),t._RF.pop()}}}));

System.register("chunks:///framework/manager/AssetsManager.js",["cc"],(function(e,s){var t,r,a,i,l;return{setters:[function(e){t=e.cclegacy,r=e.loader,a=e.log,i=e.TextAsset}],execute:function(){t._RF.push({},"66783hEVBJBRJI9tMApFob2","AssetsManager",void 0),e("AssetsManager",l=class e{constructor(){this.triggerFunGame=null,this.callbackGame=null,this.curTotalGame=0,this.curIndexGame=0,this.triggerFun=null,this.callback=null,this.curTotal=0,this.zipcurTotal=0,this.curIndex=0,this.zipcurIndex=0,this.loadingZip=!1,this.isloading=!1,this.curResObj=null,this.resetLoadingTimer=-1,this.resLoadVec=[],this.timerLog={}}static getInstance(){return this.instance}loadResToArray(s,t){if(t){let i=this;i.timerLog[s]=(new Date).getTime(),r.loadRes(s,t,function(t,r){(new Date).getTime(),i.timerLog[s];t?console.error(t.message||t):(e.loadedIndex++,e.resMapArray[s]=r,this.triggerFun&&this.triggerFun(this.curTotal,e.loadedIndex-this.curIndex),!this.loadingZip&&this.callback&&this.curTotal<=e.loadedIndex-this.curIndex&&(this.callback(),this.isloading=!1,this.curResObj&&this.curResObj.urls&&0!=this.curResObj.urls.length&&a(`false当前状态 ${this.curResObj.urls[0].url}`),this.resLoadVec.length>0&&this.startLoad()))}.bind(this))}}loadRes(e,s,t){let r={urls:e,option:s,zip:t};r&&r.urls&&0!=r.urls.length&&(this.resLoadVec.push(r),a(" true当前状态 压栈 "+r.urls[0].url),this.isloading||this.startLoad())}func_resetLoading(){this.isloading=!1}startLoad(){if(this.curResObj=this.resLoadVec.shift(),this.curResObj&&this.curResObj.urls&&0!=this.curResObj.urls.length){this.isloading=!0,-1!==this.resetLoadingTimer&&clearTimeout(this.resetLoadingTimer),this.resetLoadingTimer=setTimeout(()=>{this.isloading=!1},15e3),a(" true当前状态 出栈 "+this.curResObj.urls[0].url),e.loadedIndex=0,e.ziploadedIndex=0,this.curResObj.option&&(this.triggerFun=this.curResObj.option.trigger,this.callback=this.curResObj.option.cb,this.curTotal=this.curResObj.zip?0:this.curResObj.urls.length,this.curIndex=e.loadedIndex),this.zipcurIndex=e.ziploadedIndex;for(var s=0;s<this.curResObj.urls.length;s++)this.loadResToArray(this.curResObj.urls[s].url,this.curResObj.urls[s].type);0==this.curResObj.urls.length&&(this.triggerFun&&this.triggerFun(this.curTotal,e.loadedIndex-this.curIndex),this.callback&&(this.callback(),this.isloading=!1,this.resLoadVec.length>0&&this.startLoad()))}}loadResToArrayGame(s,t){if(t){let a=this;a.timerLog[s]=(new Date).getTime(),r.loadRes(s,t,(r,l)=>{var n=(new Date).getTime(),o=a.timerLog[s];console.log(s+"加载耗时："+((n-o)/1e3).toFixed(2)+"秒",5),r?console.error(r.message||r,0):(e.loadedIndexGame++,console.log(` 解析资源数目：========= ${s}   `+(e.loadedIndexGame-a.curIndexGame)+" this.curTotal = "+this.curTotalGame,9),e.resMapArray[s]=t==i?l.text:l,this.triggerFunGame&&this.triggerFunGame(this.curTotalGame,e.loadedIndexGame-this.curIndexGame),this.callbackGame&&this.curTotalGame<=e.loadedIndexGame-this.curIndexGame&&this.callbackGame())})}}loadGameRes(s,t,r){e.loadedIndexGame=0,t&&(this.triggerFunGame=t.trigger,this.callbackGame=t.cb,this.curTotalGame=s.length,this.curIndexGame=e.loadedIndexGame);for(var a=0;a<s.length;a++)this.loadResToArrayGame(s[a].url,s[a].type);0==s.length&&(this.triggerFunGame&&this.triggerFunGame(this.curTotalGame,e.loadedIndexGame-this.curIndexGame),this.callbackGame&&this.callbackGame())}loadOneRes(s,t){this.timerLog[s.url]=(new Date).getTime();let a=e.resMapArray[s.url];a?t(null,a):r.loadRes(s.url,s.type,(r,a)=>{if(r)return console.log("url load fail "+s.url+" assettype = "+s.type),console.error(r.message||r),void t(r,null);e.resMapArray[s.url]=a,t&&t(r,a)})}getRes(s){return e.resMapArray[s]||console.error("has no preload asset "+s),e.resMapArray[s]}releaseAsset(e,s){r.getDependsRecursively(e)}clearCallBack(){this.callback=null,this.triggerFun=null,this.curTotal=0,this.curIndex=0,this.zipcurTotal=0,this.callbackGame=null,this.triggerFunGame=null,this.curTotalGame=0,this.curIndexGame=0;for(let s in e.resMapArray)this.releaseAsset(e.resMapArray[s],s);e.resMapArray={}}}),l.instance=new l,l.resMapArray={},l.loadedIndexGame=0,l.loadedIndex=0,l.ziploadedIndex=0,e("AM",l.getInstance()),t._RF.pop()}}}));

System.register("chunks:///utils/EngineUtil.js",["cc","../framework/manager/AssetsManager.js","../framework/config/localConfigMgr.js"],(function(e,t){var i,a,n,o,s,r,l,g,c,d,m,p,h,u,f,y,C,x,v,S,B,w,R,N;return{setters:[function(e){i=e.loader,a=e.error,n=e.SpriteFrame,o=e.UITransform,s=e.UIOpacity,r=e.v3,l=e.view,g=e.Vec2,c=e.v2,d=e.director,m=e.sys,p=e.log,h=e.Prefab,u=e.instantiate,f=e.cclegacy,y=e.find,C=e.isValid,x=e.Node,v=e.Sprite,S=e.Label,B=e.AnimationClip},function(e){w=e.AM},function(e){R=e.localConfigMgr}],execute:function(){f._RF.push({},"0e7c04UAi9HhprQTxNN5vyb","EngineUtil",void 0),N=class{constructor(){}static loadImage(e,t,n="png"){i.load({url:t,type:n},(t,i)=>{t?a("加载头像纹理错误：",t):e.spriteFrame=i})}static locaImage(e,t){i.loadRes(t,n,(t,i)=>{t?a("加载纹理失败",t):e.spriteFrame=i})}static convertPosition(e,t,i){let a=e.getComponent(o).convertToWorldSpaceAR(i);return t.getComponent(o).convertToNodeSpaceAR(a)}static positionConvert(e,t){let i=e.parent.getComponent(o).convertToWorldSpaceAR(e.position);return t.getComponent(o).convertToNodeSpaceAR(i)}static active(e,t){e&&(e.active=t)}static activeAllChild(e,t){if(e)for(let i=0;i<e.children.length;++i)e.children[i].active=t}static hide(e,t){e&&(e.getComponent(s).opacity=t?255:0)}static hideAllChild(e,t){if(e)for(let i=0;i<e.children.length;++i)e.children[i].getComponent(s).opacity=t?255:0}static distance(e,t){let i=e.subtract(t);return Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z)}static getCubicBezierVertices(e,t,i,a,n){let o=0,s=[];for(let l=0;l<n;l++){let l=Math.pow(1-o,3)*e.x+3*Math.pow(1-o,2)*o*t.x+3*(1-o)*o*o*i.x+o*o*o*a.x,g=Math.pow(1-o,3)*e.y+3*Math.pow(1-o,2)*o*t.y+3*(1-o)*o*o*i.y+o*o*o*a.y;s.push(r(l,g,1)),o+=1/n}return s.push(r(a.x,a.y,a.z)),s}static getCollisionEdgePos(e,t){let i=[],a=l.getViewportRect(),n=a.width,o=a.height,s=new g(.001,.001),r=new g(n-.001,o-.001);i[0]=new g(0,0),i[1]=new g(n,0),i[2]=new g(n,o),i[3]=new g(0,o);let c=e;c.clampf(s,r);let d=e.add(t.multiply(new g(4e6,4e6))),m=new g(0,0);return this.getIntersectPoint(c,d,i[0],i[1],m)||this.getIntersectPoint(c,d,i[2],i[3],m)||this.getIntersectPoint(c,d,i[0],i[3],m)||this.getIntersectPoint(c,d,i[1],i[2],m),m.clampf(s,r),m}static getIntersectPoint(e,t,i,a,n){if(e.x==t.x&&e.y==t.y||i.x==a.x&&i.y==a.y)return!1;var o=(a.y-i.y)*(t.x-e.x)-(a.x-i.x)*(t.y-e.y);if(0==o)return!1;var s=((e.y-i.y)*(a.x-i.x)-(e.x-i.x)*(a.y-i.y))/o,r=((e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y))/o;return!(s<0||s>1||r<0||r>1)&&(n&&(n.x=e.x+s*(t.x-e.x),n.y=e.y+s*(t.y-e.y)),!0)}static getAngle(e,t){return Math.atan2(e.cross(t),e.dot(t))*(180/Math.PI)}static getAnglePoint2Point(e,t){let i=e.subtract(t);return c(i.x,i.y).signAngle(c(0,1))/Math.PI*180}static loadScene(e,t){d.loadScene(e,()=>{})}static isAndroidPlatform(){return m.os===m.OS.ANDROID}static isIOSPlatform(){return m.os===m.OS.IOS}static isWindowsPlatform(){return m.os===m.OS.WINDOWS}static getNodeAndComp(e,t){const i=t.split(":"),a=i[0].split("/");let n=e;for(let t=0;t<a.length;++t)""!==a[t]&&((n=n.getChildByName(a[t]))||p("getNodeAndComp parent is null:parent name = "+e.name));let o={};return i[1]&&(o=n.getComponent(i[1])),{node:n,component:o}}static showMessageTip(e){let t=d.getScene().getChildByName("Canvas");w.loadOneRes({url:"prefab/messageTipLabel",type:h},(i,a)=>{let n=u(a);t.addChild(n),n.getComponent("MessageTipLabel").init(e),n.getComponent("MessageTipLabel").play()})}static showMessageBox(e,t,i){let a=d.getScene().getChildByName("Canvas"),n=a.getChildByName("messageBox");n?(n.active=!0,n.getComponent("MessageBox").init(),n.getComponent("MessageBox").show(e,t,i)):w.loadOneRes({url:"prefab/messageBox",type:h},(o,s)=>{if(n=a.getChildByName("messageBox"))return n.active=!0,void n.getComponent("MessageBox").show(e,t,i);n=u(s),a.addChild(n),n.name="messageBox",n.getComponent("MessageBox").show(e,t,i)})}static hideMessageBox(){let e=d.getScene().getChildByName("Canvas").getChildByName("messageBox");e&&e.removeFromParent()}static showLoading(e=""){let t=d.getScene().getChildByName("Canvas"),i=t.getChildByName("messageBox"),a=t.getChildByName("loading");a?(a.active=!0,a.getComponent("Loading").init(e)):w.loadOneRes({url:"prefab/loading",type:h},(n,o)=>{if(a=t.getChildByName("loading"))return a.active=!0,void a.getComponent("Loading").init(e);if(a=u(o),i){let e=i.getSiblingIndex();t.insertChild(a,e)}t.addChild(a),a.name="loading",a.getComponent("Loading").init(e)})}static hideLoading(){let e=d.getScene().getChildByName("Canvas").getChildByName("loading");e&&(e.active=!1)}},e("ResourceUtil",class{constructor(){}static loadRes(e,t,n=(()=>{})){i.loadRes(e,t,(e,t)=>{if(e)return a(e.message||e),void n(e,t);n&&n(null,t)})}static getUIPrefabRes(e,t){this.loadRes("prefab/"+e,h,t)}static createUI(e,t,i){this.getUIPrefabRes(e,(function(e,a){if(e)return;let n=u(a);n.setPosition(0,0,0),i||(i=y("Canvas")),i.addChild(n),t&&t(n)}))}static getJsonData(e,t){this.loadRes("pathJson/"+e,null,(function(e,i){e?a(e.message||e):i.json?t(e,i.json):t("failed!!!")}))}static getTextData(e,t){this.loadRes("config/"+e,null,(function(e,i){if(e)return void a(e.message||e);let n=i.text;t(e,n)}))}static setSpriteFrame(e,t,i){this.loadRes(e+"/spriteFrame",n,(a,n)=>{if(a)return console.error("set sprite frame failed! err:",e,a),void i(a);t&&C(t)&&(t.spriteFrame=n,i(null))})}static createSprite(e,t){var i=(new x).addComponent(v);let a=w.getRes(t);return i.spriteFrame=a.getSpriteFrame(e),i.node}static createSpriteFrame(e,t){return w.getRes(t).getSpriteFrame(e)}static createLbWithBMFont(e,t){var i=(new x).addComponent(S);i.string="";var a=w.getRes("font/"+t);return i.font=a,i.lineHeight=a.fontSize,i.fontSize=a.fontSize,i.string=e,i.node}static genAnimateByFrames(e,t,i,a,n){let o=w.getRes(e),s=[];for(let e=0,t=a.length;e<t;e++){let t=a[e],n=o.getSpriteFrame(i+"_"+(t<10?"0"+t:t));if(!n)break;s.push(n)}let r=B.createWithSpriteFrames(s,n);return r.name=t,r}static getFishNormalAnimation(e,t,i=8){var a=R.getInstance().queryByID("fish_frame",t.toString()),n="fish_"+t+"_anim",o="fish_"+t;let s=a.normalFrames.split(",");return this.genAnimateByFrames(e,n,o,s,i)}}),f._RF.pop(),e("default",N)}}}));

System.register("chunks:///framework/manager/CsvManager.js",["cc"],(function(e,t){var r,n,i,s,a,u,l,o,c,h;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){r=e.cclegacy,n=e._decorator}],execute:function(){r._RF.push({},"8117041HG9M+Z9s8GtziwDK","CsvManager",void 0),({ccclass:a,property:u}=n),c=function(e,t,r,n){return r instanceof Array?"number"===r[t]?Number(n[t]):"boolean"===r[t]?"true"===n[t]||"t"===n[t]||"1"===n[t]:n[t]:isNaN(Number(e))?"false"==e||"true"==e||"t"==e||"f"==e?"true"===n[t]||"t"===n[t]||"1"===n[t]:n[t]:Number(n[t])},h={STANDARD_DECODE_OPTS:{skip:0,limit:!1,header:!1,cast:!1,comment:""},STANDARD_ENCODE_OPTS:{delimiter:(l=[",",";","\t","|","^"])[0],newline:(o=["\r\n","\r","\n"])[0],skip:0,limit:!1,header:!1},quoteMark:'"',doubleQuoteMark:'""',quoteRegex:/"/g,assign:function(){for(var e=Array.prototype.slice.call(arguments),t=e[0],r=e.slice(1),n=0,i=r.length;n<i;n++)for(var s in r[n])t[s]=r[n][s];return t},map:function(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r[n]=t(e[n],n);return r},getType:function(e){return Object.prototype.toString.call(e).slice(8,-1)},getLimit:function(e,t){return!1===e?t:e},buildObjectConstructor:function(e,t,r){return function(n){var i=new Object,s=function(e,t){return i[e]=t};return r?e.forEach((function(e,i){s(e,c(t[i],i,r,n))})):e.forEach((function(e,r){s(e,c(t[r],r,null,n))})),i}},buildArrayConstructor:function(e,t,r){return function(n){var i=new Array(t.length),s=function(e,t){return i[e]=t};return r?e.forEach((function(e,i){s(e,c(t[i],i,r,n))})):e.forEach((function(e,r){s(e,c(t[r],r,null,n))})),i}},frequency:function(e,t,r){void 0===r&&(r=!1);for(var n=0,i=0,s=this.getLimit(r,e.length);i<s&&-1!==(i=e.indexOf(t,i));)i+=1,n++;return n},mostFrequent:function(e,t,r){for(var n,i=t.length-1;i>=0;i--)this.frequency(e,t[i],r)>0&&(n=t[i]);return n||t[0]},unsafeParse:function(e,t,r){var n,i,s=e.split(t.newline);function a(e){var r=e.shift();if(r.indexOf('"')>=0){for(var n=0,i=0,s=0;e.length>0&&(-1!==(n=r.indexOf('"',i))||s%2!=0);)-1!==n?(i=n+1,s++):r=r+t.newline+e.shift();var a,u=[],l=0,o=0,c=0,h=r.length;for(var f in r){if(!r.hasOwnProperty(f))continue;let e=parseInt(f);var d=r[f];0===e&&'"'===d&&(l++,o=1),'"'===d&&(l++,r[e-1]===t.delimiter&&o===e&&o++),'"'===d&&l%2==0&&(r[e+1]!==t.delimiter&&e+1!==h||(c=e,a=r.substring(o,c),u.push(a),c=o=c+2)),d===t.delimiter&&l%2==0&&((c=e)>o?(a=r.substring(o,c),u.push(a),c=o=c+1):c===o&&(u.push(""),c=o=c+1))}return(c=h)>=o&&(a=r.substring(o,c),u.push(a)),u}return r.split(t.delimiter)}for(t.skip>0&&s.splice(t.skip),t.header?(!0===t.header?(t.comment=a(s),t.cast=a(s),n=a(s)):"Array"===this.getType(t.header)&&(n=t.header),i=this.buildObjectConstructor(n,s[0].split(t.delimiter),t.cast)):i=this.buildArrayConstructor(n,s[0].split(t.delimiter),t.cast);s.length>0;){var u=a(s);u.length>1&&r(i(u),n[0])}return!0},safeParse:function(e,t,r){t.delimiter;var n=t.newline,i=e.split(n);return t.skip>0&&i.splice(t.skip),!0},encodeCells:function(e,t,r){for(var n=e.slice(0),i=0,s=n.length;i<s;i++)-1!==n[i].indexOf(this.quoteMark)&&(n[i]=n[i].replace(this.quoteRegex,this.doubleQuoteMark)),-1===n[i].indexOf(t)&&-1===n[i].indexOf(r)||(n[i]=this.quoteMark+n[i]+this.quoteMark);return n.join(t)},encodeArrays:function(e,t,r){var n=t.delimiter,i=t.newline;t.header&&"Array"===this.getType(t.header)&&r(this.encodeCells(t.header,n,i));for(var s=0,a=this.getLimit(t.limit,e.length);s<a;s++)r(this.encodeCells(e[s],n,i));return!0},encodeObjects:function(e,t,r){var n,i,s=t.delimiter,a=t.newline;for(var u in n=[],i=[],e[0])n.push(u),i.push(e[0][u]);!0===t.header?r(this.encodeCells(n,s,a)):"Array"===this.getType(t.header)&&r(this.encodeCells(t.header,s,a)),r(this.encodeCells(i,s));for(var l=1,o=this.getLimit(t.limit,e.length);l<o;l++){i=[];for(var c=0,h=n.length;c<h;c++)i.push(e[l][n[c]]);r(this.encodeCells(i,s,a))}return!0},parse:function(e,t,r){var n;if("Function"===this.getType(t)?(r=t,t={}):"Function"!==this.getType(r)?r=(n=[]).push.bind(n):n=[],t=this.assign({},this.STANDARD_DECODE_OPTS,t),this.opts=t,!t.delimiter||!t.newline){var i=Math.min(48,Math.floor(e.length/20),e.length);t.delimiter=t.delimiter||this.mostFrequent(e,l,i),t.newline=t.newline||this.mostFrequent(e,o,i)}return this.unsafeParse(e,t,r)&&(!(n.length>0)||n)},encode:function(e,t,r){var n;return"Function"===this.getType(t)?(r=t,t={}):"Function"!==this.getType(r)&&(r=(n=[]).push.bind(n)),(t=this.assign({},this.STANDARD_ENCODE_OPTS,t)).skip>0&&(e=e.slice(t.skip)),("Array"===this.getType(e[0])?this.encodeArrays:this.encodeObjects)(e,t,r)&&(!(n.length>0)||n.join(t.newline))}},e("CSVManager",(i=a("CSVManager"),i(s=class e{constructor(){this._csvTables={},this._csvTableForArr={},this._tableCast={},this._tableComment={}}static get instance(){return this._instance?this._instance:(this._instance=new e,this._instance)}addTable(e,t,r){if(this._csvTables[e]&&!r)return;let n={},i=[];h.parse(t,{header:!0},(function(e,t){n[e[t]]=e,i.push(e)})),this._tableCast[e]=h.opts.cast,this._tableComment[e]=h.opts.comment,this._csvTables[e]=n,this._csvTableForArr[e]=i}getTableArr(e){return this._csvTableForArr[e]}getTable(e){return this._csvTables[e]}queryOne(e,t,r){var n=this.getTable(e);if(!n)return null;if(!t)return n[r];for(var i in n)if(n.hasOwnProperty(i)&&n[i][t]===r)return n[i]}queryByID(e,t){return this.queryOne(e,null,t)}queryAll(e,t,r){var n=this.getTable(e);if(!n||!t)return null;var i={};for(var s in n)n.hasOwnProperty(s)&&n[s][t]===r&&(i[s]=n[s]);return i}queryIn(e,t,r){var n=this.getTable(e);if(!n||!t)return null;for(var i={},s=Object.keys(n),a=s.length,u=0;u<a;u++){var l=n[s[u]];r.indexOf(l[t])>-1&&(i[s[u]]=l)}return i}queryByCondition(e,t){if(t.constructor!==Object)return null;var r=this.getTable(e);if(!r)return null;for(var n={},i=Object.keys(r),s=i.length,a=Object.keys(t),u=a.length,l=0;l<s;l++){for(var o=r[i[l]],c=!0,h=0;h<u;h++){var f=a[h];c=c&&t[f]===o[f]&&!n[i[l]]}c&&(n[i[l]]=o)}return n}queryOneByCondition(e,t){if(t.constructor!==Object)return null;var r=this.getTable(e);if(!r)return null;var n=Object.keys(t),i=n.length;for(let e in r){for(var s=r[e],a=!0,u=0;u<i;u++){var l=n[u];a=a&&t[l]===s[l]}if(a)return s}return null}clear(){this._csvTables={},this._tableCast={},this._csvTableForArr={},this._tableComment={}}})||s)),r._RF.pop()}}}));

System.register("chunks:///framework/config/localConfigMgr.js",["cc","../../utils/EngineUtil.js","../manager/CsvManager.js"],(function(e,t){var n,r,a,s,i;return{setters:[function(e){n=e.cclegacy,r=e.loader},function(e){a=e.ResourceUtil},function(e){s=e.CSVManager}],execute:function(){n._RF.push({},"651e5ZcGBNEFqtWDfoon7LT","localConfigMgr",void 0),e("localConfigMgr",i=class e{constructor(){this._csvManager=new s,this._callback=new Function,this._progress=new Function,this._currentLoad=0,this._cntLoad=0}static getInstance(){return e._instance||(e._instance=new e)}loadConfig(e,t){this._callback=t,this._progress=e,this._loadCSV()}_loadCSV(){r.loadResDir("config",(e,t)=>{if(e)return;let n=t.filter(e=>".md"!==e._native);this._cntLoad=n.length,n.length?n.forEach((e,t,n)=>{a.getTextData(e.name,(t,n)=>{this._csvManager.addTable(e.name,n),this._tryToCallbackOnFinished()})}):this._tryToCallbackOnFinished()})}queryOne(e,t,n){return this._csvManager.queryOne(e,t,n)}queryByID(e,t){return this._csvManager.queryByID(e,t)}getTable(e){return this._csvManager.getTable(e)}getTableArr(e){return this._csvManager.getTableArr(e)}queryAll(e,t,n){return this._csvManager.queryAll(e,t,n)}queryIn(e,t,n){return this._csvManager.queryIn(e,t,n)}queryByCondition(e,t){return this._csvManager.queryByCondition(e,t)}getValueByKey(e,t){return this._csvManager.queryOne(e,null,t)}_tryToCallbackOnFinished(){this._callback&&(this._currentLoad++,this._progress(this._currentLoad,this._cntLoad),this._currentLoad>=this._cntLoad&&this._callback())}clear(){this._cntLoad=0,this._currentLoad=0,this._csvManager.clear()}}),e("ConfigMgr",i.getInstance()),n._RF.pop()}}}));

System.register("chunks:///framework/data/GlobalData.js",["cc"],(function(t,e){var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"bd471sOP4dJlrh2ConNJDbN","GlobalData",void 0),t("FPS",60),t("GD",class t{constructor(){this.version="1.0.0",this.proName="avatar",this.openDebug=!1,this.appArea="",this.GameSize=null}static getInstance(){return this._inst||(this._inst=new t)}}.getInstance()),s._RF.pop()}}}));

System.register("chunks:///framework/event/clientEvent.js",["cc"],(function(e,r){var t,n;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c9d04694d1DJb1HT4y5WpI4","clientEvent",void 0),e("EVT",n=class e{static on(r,t,n){var a={handler:t,target:n},l=e._handlers[r];l||(l=[],e._handlers[r]=l);for(var s=0;s<l.length;s++)if(!l[s])return l[s]=a,s;return l.push(a),l.length}static off(r,t,n){var a=e._handlers[r];if(a)for(var l=0;l<a.length;l++){var s=a[l];if(s.handler===t&&(!n||n===s.target)){a.splice(l,1);break}}}static emit(r,...t){var n,a=e._handlers[r],l=[];for(n=1;n<arguments.length;n++)l.push(arguments[n]);if(a)for(n=0;n<a.length;n++){var s=a[n];s.handler&&s.handler.apply(s.target,l)}}}),n._handlers={},t._RF.pop()}}}));

System.register("chunks:///framework/sdk/SDK.js",["cc","../../Define.js","../event/clientEvent.js"],(function(e,t){var a,n,s,i,c,o;return{setters:[function(e){a=e.cclegacy},function(e){n=e.OperationType,s=e.EventName},function(e){i=e.EVT}],execute:function(){a._RF.push({},"c0d3dWvNVdBU6HHITu9BAar","SDK",void 0),e("SdkManager",c=class e{static get instance(){return this._instance?this._instance:(this._instance=new e,this._instance)}onAnimCompete(e){jsb.reflection.callStaticMethod("AppController","onAnimCompete:",e)}sendToNative(e,t){jsb.reflection.callStaticMethod("LMARGameMethodResponder","invoke:params:",e,JSON.stringify(t))}task(e,t){switch(console.log(`dwx------------task:${e} parma:${t}`),e){case n.Init:i.emit(s.EVT_GAMEINIT,t);break;case n.RoleAnim:i.emit(s.EVT_BODYANIM,JSON.parse(t).roleAnimId);break;case n.ChangeBody:i.emit(s.EVT_BODYCHANGE,t);break;case n.ARKit:console.log(`dwx------------ARKit:${e} parma:${JSON.parse(t)}`),i.emit(s.EVT_ARKIT,t);break;case n.ChangeBodyColor:i.emit(s.EVT_BODYCOLORCHANGE,t);break;case n.ChangeBg:i.emit(s.EVT_CHANGEBG,JSON.parse(t).bgId);break;case n.RoleScale:i.emit(s.EVT_CHANGESROLECALE,JSON.parse(t).sc);break;case n.Screenshot:i.emit(s.EVT_SCREENSHOT,t);break;case n.HotUpdate:i.emit(s.EVT_HOTUPDATE,t);break;case n.CheckHotUpdate:case n.GetGameData:i.emit(s.EVT_CHECHUPDATE,t)}}}),e("SDK",o=c.instance),window.CocosBridge=o,a._RF.pop()}}}));

System.register("chunks:///framework/ui/selectBodyPartStyle.js",["cc","../../Define.js","../../_virtual/_rollupPluginBabelHelpers.js","../event/clientEvent.js"],(function(e,t){var i,n,o,r,l,s,c,a,d,u,p,h,v,y,f,m,_,b,g,k,B;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(e){i=e.cclegacy,n=e.Node,o=e._decorator,r=e.Component,l=e.instantiate,s=e.Label},function(e){c=e.EventName},function(e){a=e.applyDecoratedDescriptor,d=e.initializerDefineProperty},function(e){u=e.EVT}],execute:function(){i._RF.push({},"3f5759qqMNNDqIlSvQGxA3Y","selectBodyPartStyle",void 0),({ccclass:k,property:B}=o),e("SelectBodyPartStyle",(p=k("SelectBodyPartStyle"),h=B(n),v=B(n),y=B(n),p((_=a((m=class extends r{constructor(...e){super(...e),d(this,"btn",_,this),d(this,"ly",b,this),d(this,"maskNode",g,this)}init(e){for(let t=0;t<e.length;t++){let i=l(this.btn);i.active=!0,i.name=`${e[t].id}`,i.children[0].getComponent(s).string=`${e[t].resName}`,this.ly.addChild(i)}this.maskNode.on(n.EventType.TOUCH_START,this.closeBtnClick,this)}onBtnClick(e){u.emit(c.EVT_BODYCHANGE,e.target.name),this.close()}closeBtnClick(){this.close()}close(){this.maskNode.off(n.EventType.TOUCH_START,this.closeBtnClick,this),this.node.removeFromParent()}}).prototype,"btn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=a(m.prototype,"ly",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=a(m.prototype,"maskNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f)),i._RF.pop()}}}));

System.register("chunks:///hotupdate/HotUpdate.js",["cc","../Define.js","../_virtual/_rollupPluginBabelHelpers.js","../framework/sdk/SDK.js"],(function(e,t){var s,a,i,n,o,l,r,d,h,c,p,g,_,u,E,v,f,A,m,S;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(e){s=e.cclegacy,a=e.Label,i=e.Asset,n=e._decorator,o=e.Component,l=e.game},function(e){r=e.HotUpdateState},function(e){d=e.applyDecoratedDescriptor,h=e.initializerDefineProperty},function(e){c=e.SDK}],execute:function(){s._RF.push({},"8ee7ate7OVDEph2ruFCYLQZ","HotUpdate",void 0),A=window.jsb,({ccclass:m,property:S}=n),e("HotUpdate",(p=m("HotUpdate"),g=S(a),_=S(i),p((v=d((E=class extends o{constructor(...e){super(...e),h(this,"tip",v,this),h(this,"manifestUrl",f,this),this._updating=!1,this._canRetry=!1,this._storagePath="",this._am=null,this._checkListener=null,this._updateListener=null,this._failCount=0,this.resVersion="",this.versionCompareHandle=null}checkCb(e){switch(console.log("Code: "+e.getEventCode()),e.getEventCode()){case A.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.tip.string="No local manifest file found, hot update skipped.",console.log("No local manifest file found, hot update skipped.");break;case A.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case A.EventAssetsManager.ERROR_PARSE_MANIFEST:this.tip.string="Fail to download manifest file, hot update skipped.",console.log("Fail to download manifest file, hot update skipped.");break;case A.EventAssetsManager.ALREADY_UP_TO_DATE:this.tip.string="Already up to date with the latest remote version.",console.log("Already up to date with the latest remote version.");break;case A.EventAssetsManager.NEW_VERSION_FOUND:c.sendToNative("onStateChanged",{type:2,state:r.NEW_VERSION_FOUND}),console.log("New version found, please try to update. ("+Math.ceil(this._am.getTotalBytes()/1024)+"kb"),this.tip.string="New version found, please try to update. ("+Math.ceil(this._am.getTotalBytes()/1024)+"kb)",console.log("dwx 通知游戏版本到原生");break;default:return}this._am.setEventCallback(null),this._checkListener=null,this._updating=!1}updateCb(e){var t=!1,s=!1;switch(console.log(`dwx updateCb ${e.getEventCode()}`),e.getEventCode()){case A.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.tip.string="No local manifest file found, hot update skipped.",s=!0;break;case A.EventAssetsManager.UPDATE_PROGRESSION:var a=e.getMessage();a&&(this.tip.string="Updated file: "+a,console.log(`dwx: ${e.getPercent()}`),console.log(`dwx:${e.getPercent()/100}`+"% : "+a)),c.sendToNative("onStateChanged",{type:2,state:r.UPDATE_PROGRESSION,value:e.getPercent()/10});break;case A.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case A.EventAssetsManager.ERROR_PARSE_MANIFEST:this.tip.string="Fail to download manifest file, hot update skipped.",s=!0;break;case A.EventAssetsManager.ALREADY_UP_TO_DATE:this.tip.string="Already up to date with the latest remote version.",s=!0;break;case A.EventAssetsManager.UPDATE_FINISHED:this.tip.string="Update finished. "+e.getMessage(),c.sendToNative("onStateChanged",{type:2,state:r.UPDATE_FINISHED}),t=!0;break;case A.EventAssetsManager.UPDATE_FAILED:this.tip.string="Update failed. "+e.getMessage(),c.sendToNative("onStateChanged",{type:2,state:r.UPDATE_FAILED,value:e.getMessage()}),this._updating=!1,this._canRetry=!0,s=!0;break;case A.EventAssetsManager.ERROR_UPDATING:this.tip.string="Asset update error: "+e.getAssetId()+", "+e.getMessage(),c.sendToNative("onStateChanged",{type:2,state:r.UPDATE_FAILED,value:e.getMessage()}),s=!0;break;case A.EventAssetsManager.ERROR_DECOMPRESS:c.sendToNative("onStateChanged",{type:2,state:r.UPDATE_FAILED,value:e.getMessage()}),s=!0}if(s&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1,console.log("dwx 更新失败  重启restart"),setTimeout(()=>{l.restart()},1e3)),t){console.log("dwx 更新完成 重新启动"),this._am.setEventCallback(null),this._updateListener=null;var i=A.fileUtils.getSearchPaths(),n=this._am.getLocalManifest().getSearchPaths();console.log(JSON.stringify(n)),Array.prototype.unshift.apply(i,n),localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(i)),A.fileUtils.setSearchPaths(i),setTimeout(()=>{l.restart()},1e3)}}retry(){!this._updating&&this._canRetry&&(this._canRetry=!1,this._am.downloadFailedAssets())}checkUpdate(){if(this._updating)console.log("Checking or updating ...");else{if(this._am.getState()===A.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;console.log(`dwx checkUpdate${e}`),this._am.loadLocalManifest(e)}this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()?(this._am.setEventCallback(this.checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0):console.log("Failed to load local manifest ...")}}hotUpdate(){if(this._am&&!this._updating){if(this._am.setEventCallback(this.updateCb.bind(this)),this._am.getState()===A.AssetsManager.State.UNINITED){var e=this.manifestUrl.nativeUrl;console.log(`dwx url: ${e}`),this._am.loadLocalManifest(e)}this._failCount=0,console.log("dwx 开始更新"),c.sendToNative("onStateChanged",{type:2,state:r.STARTUPDATE}),this._am.update(),this._updating=!0}}onLoad(){A&&(this._storagePath=(A.fileUtils?A.fileUtils.getWritablePath():"/")+"blackjack-remote-asset",console.log("Storage path for remote asset : "+this._storagePath),this.versionCompareHandle=function(e,t){console.log("JS Custom Version Compare: version A is "+e+", version B is "+t),this.resVersion=t;for(var s=e.split("."),a=t.split("."),i=0;i<s.length;++i){var n=parseInt(s[i]),o=parseInt(a[i]||"0");if(n!==o)return n-o}return a.length>s.length?-1:0},this._am=new A.AssetsManager("",this._storagePath,this.versionCompareHandle),this._am.setVerifyCallback((function(e,t){t.compressed,t.md5,t.path,t.size;return!0})))}onDestroy(){this._updateListener&&(this._am.setEventCallback(null),this._updateListener=null)}}).prototype,"tip",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d(E.prototype,"manifestUrl",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=E))||u)),s._RF.pop()}}}));

System.register("chunks:///morphContrl.js",["cc","./_virtual/_rollupPluginBabelHelpers.js"],(function(t,e){var o,r,s,i,n,h,l,a,p,u,m,c,d,g,_,C,f,v,b,w,y,M,D,I;return t({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(t){o=t.cclegacy,r=t.Node,s=t.Layout,i=t.CCFloat,n=t._decorator,h=t.Component,l=t.MeshRenderer,a=t.instantiate,p=t.find,u=t.Label,m=t.Slider,c=t.EventHandler},function(t){d=t.applyDecoratedDescriptor,g=t.initializerDefineProperty}],execute:function(){o._RF.push({},"15304l1LiBMw6IzdKBMx1Dh","morphContrl",void 0),({ccclass:D,property:I}=n),t("MorphContrl",(_=D("MorphContrl"),C=I({type:r}),f=I({type:s}),v=I({type:[i],range:[0,1,.1],slide:!0}),_((y=d((w=class extends h{constructor(...t){super(...t),this._weightsControl=[],this._modelComp=null,this._totalTargets=0,this.targetNames=[],g(this,"controlItemPrfb",y,this),g(this,"itemLayout",M,this)}get weightsControl(){return this._weightsControl}set weightsControl(t){t.length==this._totalTargets&&(this._weightsControl=t,this.setWeights(this._weightsControl))}setWeights(t){if(0!==t.length)for(let e=0;e<this._morph.subMeshMorphs.length;++e)this._morph.subMeshMorphs[e]&&this._modelComp.setWeights(t,e)}start(){if(this._modelComp=this.node.getComponent(l),!this._modelComp)return;const t=this._modelComp.mesh;if(!t)return;if(this._morph=t.struct.morph,!this._morph)return;if(0===this._morph.subMeshMorphs.length)return void console.warn("submesh count is 0");const e=this._morph.subMeshMorphs.find(t=>!!t);if(!e)return void console.warn("all submesh don't have morph");this._morph.subMeshMorphs.every(t=>!t||t.targets.length===e.targets.length)||console.warn("not all submesh count are the same");const o=this._morph.subMeshMorphs[0],r=o?o.targets.length:0;this._totalTargets=r,this.weightsControl=new Array(r).fill(0),this.targetNames=this._morph.targetNames}initUI(){for(let e=0;e<this._totalTargets;e++){var t;let o=a(this.controlItemPrfb);o.parent=this.itemLayout.node;let r=null===(t=p("Name",o))||void 0===t?void 0:t.getComponent(u);r&&(r.string=""+e);let s=null==o?void 0:o.getComponent(m),i=new c;i.target=this.node,i.handler="onSliderChanged",i.component="HeadMorph",i.customEventData=""+e,null==s||s.slideEvents.push(i)}}onSliderChanged(t,e){let o=Number.parseInt(e);this.weightsControl[o]=t.progress,this.weightsControl=this.weightsControl}}).prototype,"controlItemPrfb",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=d(w.prototype,"itemLayout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d(w.prototype,"weightsControl",[v],Object.getOwnPropertyDescriptor(w.prototype,"weightsControl"),w.prototype),b=w))||b)),o._RF.pop()}}}));

System.register("chunks:///Main.js",["cc","./Define.js","./_virtual/_rollupPluginBabelHelpers.js","./framework/manager/AssetsManager.js","./framework/config/localConfigMgr.js","./framework/data/GlobalData.js","./framework/event/clientEvent.js","./framework/sdk/SDK.js","./framework/ui/selectBodyPartStyle.js","./hotupdate/HotUpdate.js","./morphContrl.js"],(function(e,t){var o,i,n,r,s,a,l,h,d,g,c,p,u,f,m,C,y,b,N,_,B,w,E,R,S,v,x,A,T,P,M,I,O,D,L,U,F,V,k,G,H,J,z,j,$,K,X,Y,Z,q,Q,W,ee,te,oe,ie,ne,re,se,ae,le,he,de,ge,ce,pe,ue,fe;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_temp:void 0}),{setters:[function(e){o=e.cclegacy,i=e.Camera,n=e.Slider,r=e.Node,s=e._decorator,a=e.Component,l=e.Vec3,h=e.Prefab,d=e.instantiate,g=e.SkeletalAnimation,c=e.SkinnedMeshRenderer,p=e.Label,u=e.EventHandler,f=e.Button,m=e.SpriteFrame,C=e.Sprite,y=e.Color,b=e.ModelComponent,N=e.Material,_=e.Texture2D,B=e.view,w=e.RenderTexture,E=e.GFXColorAttachment,R=e.GFXLoadOp,S=e.GFXDepthStencilAttachment,v=e.Canvas,x=e.UITransform,A=e.GFXBufferTextureCopy,T=e.director,P=e.math},function(e){M=e.Sex,I=e.GameRes,O=e.EventName,D=e.FacePart,L=e.EyeBrowPart},function(e){U=e.applyDecoratedDescriptor,F=e.initializerDefineProperty},function(e){V=e.AM},function(e){k=e.ConfigMgr},function(e){G=e.GD},function(e){H=e.EVT},function(e){J=e.SDK},function(e){z=e.SelectBodyPartStyle},function(e){j=e.HotUpdate},function(e){$=e.MorphContrl}],execute:function(){o._RF.push({},"00778+ZFdRIVaFy2zQX1skh","Main",void 0),({ccclass:ce,property:pe,executeInEditMode:ue}=s),fe=window.jsb,e("Main",(K=ce("Main"),X=pe(i),Y=pe(n),Z=pe(r),q=pe(r),Q=pe(i),W=pe(r),ee=pe(r),te=pe(r),K((ne=U((ie=class extends a{constructor(...e){super(...e),F(this,"cupSceenCamera",ne,this),F(this,"slider",re,this),F(this,"loadingLayer",se,this),F(this,"bgNode",ae,this),F(this,"mainCamera",le,this),F(this,"roleRootNode",he,this),this.roleNode=null,F(this,"Btn",de,this),F(this,"Ly",ge,this),this.roleMap=new Map,this.gameJson=null,this.roleConfig={},this.curBody=null,this.sex=M.Boy,this.headNode=null,this.faceNode=null,this.eyeBrowNode=null,this.eyelashNode=null,this.headAngle=l.ZERO,this.roleFaceArr=null,this.hotUpdateCtrl=null}onLoad(){this.hotUpdateCtrl=this.node.getComponent(j),this.initLister(),fe&&J.sendToNative("onStateChanged",{type:1,state:2}),this.node.getChildByName("debug").active=G.openDebug,G.openDebug&&this.preLoadRes()}initGame(e){let t=e;"string"==typeof e&&(t=JSON.parse(e)),console.log(`dwx :${t}`),this.gameJson=e.data,1==t.config.isUpdate?(this.gameJson=e,this.hotUpdateCtrl.checkUpdate()):this.initData(t)}initData(e){G.openDebug&&(this.gameJson={role:{id:"1001",extra:{colorId:"",rgba:[]}},body:[{id:"2001",extra:{colorId:"",rgba:[]}},{id:"3001",extra:{colorId:"",rgba:[]}},{id:"4001",extra:{colorId:"",rgba:[]}},{id:"5001",extra:{colorId:"",rgba:[]}}],bgId:"1"}),fe&&!G.openDebug&&this.preLoadRes()}loadConfig(){k.loadConfig(()=>{},this.onLoadConfigFinish.bind(this))}preLoadRes(){V.loadGameRes(I,{cb:this.onLoadResFinish.bind(this),trigger:this.onLoadResProgress.bind(this)})}onLoadResProgress(e,t){}onLoadResFinish(){console.log("onLoadResFinish"),this.loadConfig()}onLoadConfigFinish(){console.log("finish config"),G.openDebug&&this.initData(),this.roleConfig=k.getTable("role"),this.sex=this.roleConfig[this.gameJson.role.id].sex,this.setBg(Number(this.gameJson.bgId)),this.initRole(),G.openDebug&&this.initDebugUI(),this.setLoadLayerVisible(!1)}initRole(){this.roleMap.forEach((e,t)=>{e.removeFromParent()}),this.roleMap.clear();let e=this.roleConfig[this.gameJson.role.id];this.loadRes({url:`prefab/${e.resName}`,type:h},(e,t)=>{if(e)return;let o=d(t);this.roleNode=o,this.roleRootNode.addChild(o),this.roleNode.getComponent(g).play(),this.headNode=o.getChildByPath("RootNode/Bip001/Bip001 Pelvis/Bip001 Spine/Bip001 Spine1/Bip001 Spine2/Bip001 Neck/Bip001 Head"),this.sex==M.Girl?(this.faceNode=o.getChildByPath("RootNode/female_head_head_base"),this.eyeBrowNode=o.getChildByPath("RootNode/female_head_eyebrow_base"),this.eyelashNode=o.getChildByPath("RootNode/female_head_eyelash_base")):(this.faceNode=o.getChildByPath("RootNode/male_body_head_male"),this.eyeBrowNode=o.getChildByPath("RootNode/male_body_eyebrow_male"),this.eyelashNode=o.getChildByPath("RootNode/male_body_eyelash_male")),this.faceNode.addComponent($),this.eyeBrowNode.addComponent($),this.eyelashNode.addComponent($),this.roleMap.set(this.gameJson.role.id.toString(),o);for(let e=0;e<this.gameJson.body.length;e++){let t=this.gameJson.body[e],o=this.roleConfig[t.id];this.loadRes({url:`prefab/${null==o?void 0:o.resName}`,type:h},(o,i)=>{if(o)return;let n=d(i);this.roleRootNode.addChild(n);let r=n.getComponentInChildren(c);r.skinningRoot=this.roleNode;let s=this.roleNode.getComponent(g).clips;if(r.uploadAnimation(s[0]),""==t.extra.colorId&&0==t.extra.rgba.length){let e=r.materials;for(let o=0;o<e.length;o++)this.setMaterial(e[o],`textures/${r.getMaterial(o).name}/${r.getMaterial(o).name}_D/texture`,o,"3002"==t.id)}this.roleMap.set(this.gameJson.body[e].id.toString(),n)})}})}changleRole(e){this.gameJson={role:{id:"1002",extra:{colorId:"",rgba:[]}},body:[{id:"2002",extra:{colorId:"",rgba:[]}},{id:"3002",extra:{colorId:"",rgba:[]}},{id:"4002",extra:{colorId:"",rgba:[]}},{id:"5002",extra:{colorId:"",rgba:[]}}],bgId:"1"},this.sex=this.roleConfig[this.gameJson.role.id].sex,this.initRole()}initDebugUI(){let e=[];for(let t in this.roleConfig)e.includes(this.roleConfig[t].resKey)||e.push(this.roleConfig[t].resKey);for(let t=0;t<e.length;t++){let o=d(this.Btn);o.children[0].getComponent(p).string=e[t];let i=new u;i.target=this.node,i.handler="onChangeBodyPartClick",i.component="Main",i.customEventData=e[t],o.getComponent(f).clickEvents.push(i),this.Ly.addChild(d(o))}}initLister(){this.node.on(r.EventType.TOUCH_MOVE,this.onTouchMove,this),H.on(O.EVT_CHANGEBG,this.setBg,this),H.on(O.EVT_GAMEINIT,this.initGame,this),H.emit(O.EVT_CHECHUPDATE,this.checkHotUpdate,this),H.on(O.EVT_CHECHUPDATE,this.hotUpdate,this),H.on(O.EVT_HOTUPDATE,this.hotUpdate,this),H.on(O.EVT_BODYANIM,this.playRoleAnim,this),H.on(O.EVT_SCREENSHOT,this.screenShot,this),H.on(O.EVT_ARKIT,this.onPlayRoleFaceAnim,this),H.on(O.EVT_BODYCHANGE,this.onChangeBodyPart,this),H.on(O.EVT_BODYCOLORCHANGE,this.setBodyPartColor,this),H.on(O.EVT_CHANGESROLECALE,this.setRoleScale,this)}onTouchMove(e){this.rotateRole(e.getDelta().x)}playRoleAnim(e){this.roleNode.getComponent(g).once("finished",()=>{console.log("dwx 动画播放完毕"),fe&&J.onAnimCompete(e),this.roleNode.getComponent(g).play("idle")},this),this.roleNode.getComponent(g).play("exhibition")}rotateRole(e){let t=this.roleRootNode.eulerAngles.y;t+=e,this.roleRootNode.eulerAngles=new l(0,t,0)}setRoleScale(e){let t=300-400*(Number(e)-.5),o=100+100*(Number(e)-.5);this.mainCamera.node.setPosition(0,o,t)}checkHotUpdate(e){let t;"string"==typeof e&&(1==(t=JSON.parse(e)).isCheck?this.hotUpdateCtrl.checkUpdate():this.initData())}hotUpdate(e){console.log("dwx hotUpdate");let t=e;"string"==typeof e&&(t=JSON.parse(e)),1==e.state?this.hotUpdateCtrl.hotUpdate():this.gameJson&&this.initData(this.gameJson)}onChangeBodyPart(e){let t=[],o=[];{let i=JSON.parse(e);if(i.hasOwnProperty("subBodyId")){t=i.subBodyId;for(let e=0;e<t.length;e++)this.subBodyPart(t[e].toString())}if(i.hasOwnProperty("addBodyId")){o=i.addBodyId;for(let e=0;e<o.length;e++)this.addBodyPart(o[e].toString())}}}setBg(e){V.loadOneRes({url:`bg/bg${e}/spriteFrame`,type:m},(t,o)=>{t||(this.gameJson.bgId=e.toString(),this.bgNode.getComponent(C).spriteFrame=o)})}addBodyPart(e){console.log(`addBodyPart---------------${e}`);let t=this.roleConfig[e];if(!t)return;let o=`prefab/${null==t?void 0:t.resName}`;this.roleMap.forEach((o,i)=>{let n=this.roleConfig[i];n.resKey==t.resKey&&n.id!=e&&n.sex==this.sex&&this.subBodyPart(i)}),this.loadRes({url:o,type:h},(t,o)=>{if(t)return;let i=d(o),n=i.getComponentInChildren(c);this.roleRootNode.addChild(i),n.skinningRoot=this.roleNode;let r=this.roleNode.getComponent(g).clips;n.uploadAnimation(r[0]);let s=n.materials;for(let t=0;t<s.length;t++)this.setMaterial(s[t],`textures/${n.getMaterial(t).name}/${n.getMaterial(t).name}_D/texture`,t,"3002"==e),s.length;this.roleMap.set(e,i),this.curBody=i})}subBodyPart(e){console.log(`subBodyPart---------------${e}`),this.roleMap.get(e)&&(this.roleMap.get(e).removeFromParent(),this.roleMap.delete(e))}setBodyPartColor(e){var t,o;let i,n=this.curBody,r=null,s=JSON.parse(e),a=s.bodyId;if(!G.openDebug&&(n=this.roleMap.get(a.toString()))&&"0"==s.type){let e=new y;r=e.fromHEX(s.color),this.gameJson.body.forEach(e=>{e.id==a&&(e.extra.colorId=s.color)})}var l,h;n&&(null===(o=i=(null===(t=n)||void 0===t?void 0:t.children.length)>0?null===(l=n)||void 0===l?void 0:l.getComponentsInChildren(b):null===(h=n)||void 0===h?void 0:h.getComponents(b))||void 0===o||o.forEach(e=>{e.materials.forEach((e,t)=>{e.setProperty("mainColor",r)})}))}update(e){}lateUpdate(e){this.headNode&&(this.headNode.eulerAngles=this.headAngle)}setLoadLayerVisible(e){this.loadingLayer.active=e}setMaterial(e,t,o,i){console.log(`setMaterial${t}`);let n=new N;n.copy(e);n.initialize({effectAsset:e.effectAsset,defines:{USE_ALBEDO_MAP:!0},technique:1==i?1:0}),V.loadOneRes({url:t,type:_},(t,i)=>{t||(n.setProperty("mainTexture",i),e.owner.setMaterial(n,o))})}loadRes(e,t){V.loadOneRes(e,(e,o)=>{t(e,o)})}onDestroy(){this.node.off(r.EventType.TOUCH_MOVE,this.onTouchMove,this),H.off(O.EVT_CHANGEBG,this.setBg,this),H.off(O.EVT_GAMEINIT,this.initGame,this),H.off(O.EVT_HOTUPDATE,this.hotUpdate,this),H.off(O.EVT_BODYANIM,this.playRoleAnim,this),H.off(O.EVT_SCREENSHOT,this.screenShot,this),H.off(O.EVT_ARKIT,this.onPlayRoleFaceAnim,this),H.off(O.EVT_BODYCHANGE,this.onChangeBodyPart,this),H.off(O.EVT_BODYCOLORCHANGE,this.setBodyPartColor,this),H.off(O.EVT_CHANGESROLECALE,this.setRoleScale,this)}screenShot(e){console.log("截屏");let t=B.getVisibleSize().width,o=B.getVisibleSize().height,i=JSON.parse(e),n=i.width,s=i.height,a=i.userdata;this.cupSceenCamera.node.active=!0;let l=new w;l.initialize({width:Math.floor(t),height:Math.floor(o)});const h=new E;h.loadOp=R.LOAD;const d={colorAttachments:[h],depthStencilAttachment:new S};if(l.reset({width:l.width,height:l.height,passInfo:d}),this.cupSceenCamera.targetTexture=l,this.scheduleOnce(()=>{this.node.getComponent(v).targetTexture=l}),G.openDebug){let e=(new r).addComponent(C),t=new m;t.texture=l,e.spriteFrame=t,e.node.getComponent(x).setContentSize(n,s),e.node.parent=this.node}this.scheduleOnce(()=>{let e=l.getGFXTexture(),i=(t-n)/2,r=o-s,h={width:e.width,format:"rgba",height:e.height,size:e.size,buffer:this.getBuffer(l,i,r,n,s),userdata:a};console.log(JSON.stringify(h)),fe&&J.sendToNative("onScreenShotCallback",h),this.cupSceenCamera.node.active=!1,this.cupSceenCamera.targetTexture=null,this.node.getComponent(v).targetTexture=null},.1)}getBuffer(e,t=0,o=0,i,n){if(n=(i=i||e.width)||e.height,!e.getGFXTexture())return null;let r=new ArrayBuffer(i*n*4),s=new A;return s.texOffset.x=t,s.texOffset.y=o,s.texExtent.width=i,s.texExtent.height=n,T.root.device.copyFramebufferToBuffer(e.window.framebuffer,r,[s]),a=r,Array.prototype.map.call(new Uint8Array(a),e=>("00"+e.toString(16)).slice(-2)).join("");var a}onPlayRoleFaceAnim(e){let t=null;if(fe&&(t=JSON.parse(e)),!t)return;let o=this.faceNode.getComponent($),i=this.eyeBrowNode.getComponent($),n=this.eyelashNode.getComponent($);for(let e in t.arFaceAnchors){let r=t.arFaceAnchors[e];if(D.hasOwnProperty(e)){let t=o.targetNames.findIndex(t=>t.split("_")[2]==D[e]);-1!=t&&(o.weightsControl[t]=Number(r));let i=n.targetNames.findIndex(t=>t.split("_")[2]==D[e]);-1!=i&&(n.weightsControl[i]=Number(r))}else if(L.hasOwnProperty(e)){let t=i.targetNames.findIndex(t=>t.split("_")[2]==L[e]);if(-1!=t){let e=3*Number(r);e=P.clamp(e,0,1),i.weightsControl[t]=e}}}o.weightsControl=o.weightsControl,i.weightsControl=i.weightsControl,n.weightsControl=n.weightsControl;let r=Number(t.headPitch),s=Number(t.headYaw),a=Number(t.headRoll),h=s/Math.PI*180,d=a/Math.PI*180,g=r/Math.PI*180;h=P.clamp(h,-30,30),d=P.clamp(d,-30,30),g=P.clamp(g,-30,30),this.headAngle=new l(h,d,g),this.node.getComponent(x),console.log("DWX headAngle:"+this.headAngle)}testBtnClick(){}bgBtnClick(){P.randomRangeInt(1,20);this.screenShot(JSON.stringify({width:400,height:400,userdata:1}))}onSliderEvent(){this.setRoleScale(this.slider.progress)}onClickColor(e,t){}onChangeBodyPartClick(e,t){let o=[];for(let e in this.roleConfig){let i=this.roleConfig[e];i.resKey==t&&this.sex==i.sex&&o.push(this.roleConfig[e])}if(0!=o.length){let e=d(V.getRes("prefab/Layout"));this.node.addChild(e),e.getComponent(z).init(o)}}}).prototype,"cupSceenCamera",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=U(ie.prototype,"slider",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=U(ie.prototype,"loadingLayer",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=U(ie.prototype,"bgNode",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=U(ie.prototype,"mainCamera",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=U(ie.prototype,"roleRootNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=U(ie.prototype,"Btn",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=U(ie.prototype,"Ly",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=ie))||oe)),o._RF.pop()}}}));

System.register("chunks:///createJson.js",["cc","./_virtual/_rollupPluginBabelHelpers.js","./framework/config/localConfigMgr.js"],(function(e,t){var o,r,i,n,c,a,s,l,d,p,u,f,b,g;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){o=e.cclegacy,r=e.Node,i=e._decorator,n=e.Component},function(e){c=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){s=e.ConfigMgr}],execute:function(){o._RF.push({},"4c70dBYzwtAkLjDWq3k+2rP","createJson",void 0),({ccclass:b,property:g}=i),e("CreateJson",(l=b("CreateJson"),d=g(r),l((f=c((u=class extends n{constructor(...e){super(...e),a(this,"btn",f,this)}start(){this.btn.active=!1,s.loadConfig(()=>{},()=>{this.btn.active=!0})}create(){let e=s.getTable("role"),t=new Blob([JSON.stringify(e)],{type:"application/json"});var o=document.createElement("a");o.href=window.webkitURL.createObjectURL(t),o.download="",o.click()}}).prototype,"btn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=u))||p)),o._RF.pop()}}}));

System.register("chunks:///framework/ui/Loading.js",["cc"],(function(e,n){var t,c,o,r,s,i,a,d,u,l;return e({_dec:void 0,_class:void 0}),{setters:[function(e){t=e.cclegacy,c=e.Component,o=e.find,r=e.tween,s=e.Vec3,i=e._decorator}],execute:function(){t._RF.push({},"c27e6e7UWZEEZ616Oe7/tZ7","Loading",void 0),({ccclass:u,property:l}=i),e("Loading",(a=u("Loading"),a(d=class extends c{start(){let e=o("loading_circle",this.node);r(e).by(1,{eulerAngles:new s(0,0,360)}).repeatForever().union().start()}})||d)),t._RF.pop()}}}));

System.register("chunks:///headMorph.js",["cc","./_virtual/_rollupPluginBabelHelpers.js"],(function(t,e){var o,r,s,i,n,h,l,a,p,d,u,c,g,m,_,v,C,f,b,y,w,M,I,L,H,P;return t({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(t){o=t.cclegacy,r=t.Node,s=t.Layout,i=t.CCFloat,n=t._decorator,h=t.Component,l=t.MeshRenderer,a=t.instantiate,p=t.find,d=t.Label,u=t.Slider,c=t.EventHandler},function(t){g=t.applyDecoratedDescriptor,m=t.initializerDefineProperty}],execute:function(){o._RF.push({},"c0aafsHUcJNb6ftp5LVohdy","headMorph",void 0),({ccclass:L,property:H,executeInEditMode:P}=n),t("HeadMorph",(_=L("HeadMorph"),v=P(),C=H({type:r}),f=H({type:s}),b=H({type:[i],range:[0,1,.1],slide:!0}),_(y=v((M=g((w=class extends h{constructor(...t){super(...t),this._weightsControl=[],this._modelComp=null,this._totalTargets=0,m(this,"controlItemPrfb",M,this),m(this,"itemLayout",I,this)}get weightsControl(){return this._weightsControl}set weightsControl(t){t.length==this._totalTargets&&(this._weightsControl=t,this.setWeights(this._weightsControl))}setWeights(t){if(0!==t.length)for(let e=0;e<this._morph.subMeshMorphs.length;++e)this._morph.subMeshMorphs[e]&&this._modelComp.setWeights(t,e)}start(){if(this._modelComp=this.node.getComponent(l),!this._modelComp)return;const t=this._modelComp.mesh;if(!t)return;if(this._morph=t.struct.morph,!this._morph)return;if(0===this._morph.subMeshMorphs.length)return void console.warn("submesh count is 0");const e=this._morph.subMeshMorphs.find(t=>!!t);if(!e)return void console.warn("all submesh don't have morph");this._morph.subMeshMorphs.every(t=>!t||t.targets.length===e.targets.length)||console.warn("not all submesh count are the same");const o=this._morph.subMeshMorphs[0],r=o?o.targets.length:0;this._totalTargets=r,this.weightsControl=new Array(r).fill(0),this.initUI()}initUI(){this.itemLayout.node.removeAllChildren();for(let e=0;e<this._totalTargets;e++){var t;let o=a(this.controlItemPrfb);o.active=!0,o.parent=this.itemLayout.node;let r=null===(t=p("Name",o))||void 0===t?void 0:t.getComponent(d);r&&(r.string=""+e);let s=null==o?void 0:o.getComponent(u),i=new c;i.target=this.node,i.handler="onSliderChanged",i.component="HeadMorph",i.customEventData=""+e,null==s||s.slideEvents.push(i)}}onSliderChanged(t,e){let o=Number.parseInt(e);this.weightsControl[o]=t.progress,this.weightsControl=this.weightsControl}update(t){}}).prototype,"controlItemPrfb",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=g(w.prototype,"itemLayout",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g(w.prototype,"weightsControl",[b],Object.getOwnPropertyDescriptor(w.prototype,"weightsControl"),w.prototype),y=w))||y)||y)),o._RF.pop()}}}));

System.register("chunks:///utils/LocalDataUtil.js",["cc"],(function(t,e){var l,a,c,s;return{setters:[function(t){l=t.log,a=t.sys,c=t.cclegacy}],execute:function(){c._RF.push({},"75e8c7Eo4BGp4im/K0PUDUi","LocalDataUtil",void 0),s=class{constructor(){}static setItem(t,e){null!=e?(a.localStorage.setItem(t,JSON.stringify(e)),l(`setItem key = ${t}  value = ${e}`)):l("setItem value is null")}static getItem(t){let e=a.localStorage.getItem(t);return e?JSON.parse(e):null}static removeItem(t){a.localStorage.removeItem(t)}static clearItem(){a.localStorage.clear()}},c._RF.pop(),t("default",s)}}}));

System.register("chunks:///utils/MyUtils.js",["cc","./EngineUtil.js","./LocalDataUtil.js"],(function(t,e){var n,c,r,i,o;return{setters:[function(t){n=t.cclegacy},function(t){c=t.default},function(t){r=t.default}],execute:function(){n._RF.push({},"49020AsBhpALp3pQpxOlEU/","MyUtils",void 0),o={object:"[object Object]",array:"[object Array]",function:"[object Function]",number:"[object Number]",string:"[object String]",null:"[object Null]",undefined:"[object Undefined]"},(i=class{constructor(){}static isObject(t){return Object.prototype.toString.call(t)===o.object}static isArray(t){return Object.prototype.toString.call(t)===o.array}static isFunction(t){return Object.prototype.toString.call(t)===o.function}static isNumber(t){return Object.prototype.toString.call(t)===o.number}static isString(t){return Object.prototype.toString.call(t)===o.string}static isNull(t){return Object.prototype.toString.call(t)===o.null}static isUndefined(t){return Object.prototype.toString.call(t)===o.undefined}}).EngineUtil=c,i.LocalDataUtil=r,n._RF.pop(),t("default",i)}}}));

System.register("chunks:///index.js",["cc","./utils/MyUtils.js"],(function(e,n){var t,i,s;return{setters:[function(e){t=e.cclegacy},function(e){i=e.default}],execute:function(){t._RF.push({},"e9503zNVEBIF7Y+N+nOAU5T","index",void 0),(s="undefined"==typeof window?global:window).MyUtils=s.MyUtils||{},MyUtils=i,t._RF.pop()}}}));

System.register("chunks:///typescript.js",["cc","./_virtual/_rollupPluginBabelHelpers.js","./headMorph.js"],(function(e,t){var r,i,s,o,c,p,a,n,l,d,h,u,y,f;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){r=e.cclegacy,i=e.Node,s=e._decorator,o=e.Component},function(e){c=e.applyDecoratedDescriptor,p=e.initializerDefineProperty},function(e){a=e.HeadMorph}],execute:function(){r._RF.push({},"f7397SqfNRCOYj+AQWqAEZY","typescript",void 0),({ccclass:y,property:f}=s),e("Typescript",(n=y("Typescript"),l=f(i),n((u=c((h=class extends o{constructor(...e){super(...e),p(this,"playerHeads",u,this)}start(){}ac1(){this.setMorphAnim(0,[1])}ac2(){this.setMorphAnim(1,[1])}ac3(){this.setMorphAnim(2,[1])}acr(){this.setMorphAnim(3,[1])}setMorphAnim(e,t){this.playerHeads.forEach((t,r)=>{t.active=e===r}),this.playerHeads[e].getComponent(a).setWeights([1])}}).prototype,"playerHeads",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=h))||d)),r._RF.pop()}}}));

System.register("chunks:///framework/logger.js",["cc"],(function(e,c){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"18d73/XgXZN+p8ZbLIY6LVo","logger",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/prerequisite-imports:main",["../Define.js","../framework/manager/AssetsManager.js","../utils/EngineUtil.js","../framework/manager/CsvManager.js","../framework/config/localConfigMgr.js","../framework/data/GlobalData.js","../framework/event/clientEvent.js","../framework/sdk/SDK.js","../framework/ui/selectBodyPartStyle.js","../hotupdate/HotUpdate.js","../morphContrl.js","../Main.js","../createJson.js","../framework/ui/Loading.js","../headMorph.js","../utils/LocalDataUtil.js","../utils/MyUtils.js","../index.js","../typescript.js","../framework/logger.js"],(function(n,t){return{setters:[function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){}],execute:function(){}}}));

(function(r) {
  r('project:///assets/scripts/Define.js', 'chunks:///Define.js');
  r('project:///assets/scripts/framework/manager/AssetsManager.js', 'chunks:///framework/manager/AssetsManager.js');
  r('project:///assets/scripts/utils/EngineUtil.js', 'chunks:///utils/EngineUtil.js');
  r('project:///assets/scripts/framework/manager/CsvManager.js', 'chunks:///framework/manager/CsvManager.js');
  r('project:///assets/scripts/framework/config/localConfigMgr.js', 'chunks:///framework/config/localConfigMgr.js');
  r('project:///assets/scripts/framework/data/GlobalData.js', 'chunks:///framework/data/GlobalData.js');
  r('project:///assets/scripts/framework/event/clientEvent.js', 'chunks:///framework/event/clientEvent.js');
  r('project:///assets/scripts/framework/sdk/SDK.js', 'chunks:///framework/sdk/SDK.js');
  r('project:///assets/scripts/framework/ui/selectBodyPartStyle.js', 'chunks:///framework/ui/selectBodyPartStyle.js');
  r('project:///assets/scripts/hotupdate/HotUpdate.js', 'chunks:///hotupdate/HotUpdate.js');
  r('project:///assets/scripts/morphContrl.js', 'chunks:///morphContrl.js');
  r('project:///assets/scripts/Main.js', 'chunks:///Main.js');
  r('project:///assets/scripts/createJson.js', 'chunks:///createJson.js');
  r('project:///assets/scripts/framework/ui/Loading.js', 'chunks:///framework/ui/Loading.js');
  r('project:///assets/scripts/headMorph.js', 'chunks:///headMorph.js');
  r('project:///assets/scripts/utils/LocalDataUtil.js', 'chunks:///utils/LocalDataUtil.js');
  r('project:///assets/scripts/utils/MyUtils.js', 'chunks:///utils/MyUtils.js');
  r('project:///assets/scripts/index.js', 'chunks:///index.js');
  r('project:///assets/scripts/typescript.js', 'chunks:///typescript.js');
  r('project:///assets/scripts/framework/logger.js', 'chunks:///framework/logger.js');
  r('virtual:///prerequisite-imports:main', 'chunks:///_virtual/prerequisite-imports:main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    var _m;
    return {
        setters: [function(m) { _m = m; }],
        execute: function () { _export(_m); }
    };
    });
});
} }; });