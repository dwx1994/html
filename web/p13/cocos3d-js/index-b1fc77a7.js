System.register(["./deprecated-fd5a8e75.js","./deprecated-9a4df5e2.js","./index-597c71d0.js","./component-event-handler-ff37202d.js","./terrain-asset-cc69bca3.js"],(function(t){"use strict";var e,i,n,r,o,s,a,l,u,c,p,h,y,_,d,f,g,b,m,v,C,k,S,O,w,T,P,E,M,x,D,I,A,N,L,R,B,F,z,j,H,G,U,X,Y,q,V,W;return{setters:[function(t){e=t.l,i=t.aj,n=t.x,r=t.w,o=t.c,s=t._,a=t.F,l=t.b,u=t.j,c=t.a0,p=t.d,h=t.e,y=t.f,_=t.g,d=t.i,f=t.aO,g=t.aC,b=t.s,m=t.V,v=t.b0,C=t.t,k=t.b2,S=t.h,O=t.m,w=t.b3,T=t.a,P=t.b6,E=t.p,M=t.C,x=t.aA,D=t.bN,I=t.b4,A=t.ah,N=t.ao,L=t.ap,R=t.n},function(t){B=t.R,F=t.bi,z=t.da,j=t.de,H=t.dC,G=t.dB,U=t.at,X=t.db},function(){},function(t){Y=t.d,q=t.D,V=t.a},function(t){W=t.T}],execute:function(){var K,Z,J,Q,$,tt,et;t({E:void 0,a:void 0,s:function(t,i){Z=t,e._global.CC_PHYSICS_BUILTIN="builtin"==t,e._global.CC_PHYSICS_CANNON="cannon.js"==t,e._global.CC_PHYSICS_AMMO="ammo.js"==t,K=i}}),function(t){t[t.DYNAMIC=1]="DYNAMIC",t[t.STATIC=2]="STATIC",t[t.KINEMATIC=4]="KINEMATIC"}(J||(J=t("E",{}))),function(t){t[t.X_AXIS=0]="X_AXIS",t[t.Y_AXIS=1]="Y_AXIS",t[t.Z_AXIS=2]="Z_AXIS"}(Q||(Q=t("a",{}))),i(Q),function(t){t[t.VERTEX=1]="VERTEX",t[t.LINE=2]="LINE",t[t.TRIANGLE=3]="TRIANGLE",t[t.TETRAHEDRON=4]="TETRAHEDRON"}($||($={})),i($),function(t){t[t.BOX=0]="BOX",t[t.SPHERE=1]="SPHERE",t[t.CAPSULE=2]="CAPSULE",t[t.CYLINDER=3]="CYLINDER",t[t.CONE=4]="CONE",t[t.MESH=5]="MESH",t[t.PLANE=6]="PLANE",t[t.SIMPLEX=7]="SIMPLEX",t[t.TERRAIN=8]="TERRAIN"}(tt||(tt={})),i(tt),function(t){t[t.POINT_TO_POINT=0]="POINT_TO_POINT",t[t.HINGE=1]="HINGE",t[t.CONE_TWIST=2]="CONE_TWIST"}(et||(et={})),i(et);var it={INITED:!1},nt=function(){return 0},rt={impl:null,collider:null,attachedRigidBody:null,initialize:nt,onLoad:nt,onEnable:nt,onDisable:nt,onDestroy:nt,setGroup:nt,getGroup:nt,addGroup:nt,removeGroup:nt,setMask:nt,getMask:nt,addMask:nt,removeMask:nt,setMaterial:nt,setAsTrigger:nt,setCenter:nt,getAABB:nt,getBoundingSphere:nt,setSize:nt,setRadius:nt,setCylinderHeight:nt,setDirection:nt,setHeight:nt,setShapeType:nt,setVertices:nt,setMesh:nt,setTerrain:nt,setNormal:nt,setConstant:nt};function ot(t){return function(){if(it.INITED)return;it.INITED=!0;var t=e._global.CC_PHYSICS_BUILTIN,i=e._global.CC_PHYSICS_CANNON,o=e._global.CC_PHYSICS_AMMO;it[tt.BOX]=function(t){return new K.BoxShape(t)},it[tt.SPHERE]=function(t){return new K.SphereShape(t)},it[tt.CAPSULE]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t||o?new K.CapsuleShape(e,i,r):(n(9610),rt)},it[tt.CYLINDER]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return i||o?new K.CylinderShape(t,e,r):(n(9612),rt)},it[tt.CONE]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return i||o?new K.ConeShape(t,e,r):(n(9612),rt)},it[tt.MESH]=function(){return i||o?new K.TrimeshShape:(n(9611),rt)},it[tt.TERRAIN]=function(){return i||o?new K.TerrainShape:(r("[Physics]: builtin physics system doesn't support cylinder collider"),rt)},it[tt.SIMPLEX]=function(){return i||o?new K.SimplexShape:(r("[Physics]: builtin physics system doesn't support simple collider"),rt)},it[tt.PLANE]=function(){return i||o?new K.PlaneShape:(r("[Physics]: builtin physics system doesn't support plane collider"),rt)}}(),it[t]()}var st,at,lt,ut,ct,pt,ht,yt,_t={INITED:!1},dt={impl:null,initialize:nt,onLoad:nt,onEnable:nt,onDisable:nt,onDestroy:nt,setEnableCollision:nt,setConnectedBody:nt,setPivotA:nt,setPivotB:nt};function ft(t){return function(){if(_t.INITED)return;_t.INITED=!0;e._global.CC_PHYSICS_BUILTIN;var t=e._global.CC_PHYSICS_CANNON,i=e._global.CC_PHYSICS_AMMO;_t[et.POINT_TO_POINT]=function(){return t||i?new K.PointToPointConstraint:(r("[Physics]: builtin physics system doesn't support point to point constraint"),dt)},_t[et.HINGE]=function(){return t||i?new K.HingeConstraint:(r("[Physics]: builtin physics system doesn't support hinge constraint"),dt)},_t[et.CONE_TWIST]=function(){return t||i?new K.ConeTwistConstraint:(r("[Physics]: builtin physics system doesn't support cone twist constraint"),dt)}}(),_t[t]()}var gt,bt=t("j",o("cc.PhysicMaterial")((yt=ht=function(t){function e(){var t;return p(this,e),t=h(this,y(e).call(this)),_(t,"_friction",lt,d(t)),_(t,"_rollingFriction",ut,d(t)),_(t,"_spinningFriction",ct,d(t)),_(t,"_restitution",pt,d(t)),e.allMaterials.push(d(t)),""==t._uuid&&(t._uuid="pm_"+e._idCounter++),t}return l(e,t),u(e,[{key:"friction",get:function(){return this._friction},set:function(t){c(this._friction,t)||(this._friction=t,this.emit("physics_material_update"))}},{key:"rollingFriction",get:function(){return this._rollingFriction},set:function(t){c(this._rollingFriction,t)||(this._rollingFriction=t,this.emit("physics_material_update"))}},{key:"spinningFriction",get:function(){return this._spinningFriction},set:function(t){c(this._spinningFriction,t)||(this._spinningFriction=t,this.emit("physics_material_update"))}},{key:"restitution",get:function(){return this._restitution},set:function(t){c(this._restitution,t)||(this._restitution=t,this.emit("physics_material_update"))}}]),u(e,[{key:"clone",value:function(){var t=new e;return t._friction=this._friction,t._restitution=this._restitution,t._rollingFriction=this._rollingFriction,t._spinningFriction=this._spinningFriction,t}},{key:"destroy",value:function(){if(f(y(e.prototype),"destroy",this).call(this)){var t=e.allMaterials.indexOf(this);return t>=0&&e.allMaterials.splice(t,1),!0}return!1}}]),e}(g),ht.allMaterials=[],ht._idCounter=0,s((at=yt).prototype,"friction",[a],Object.getOwnPropertyDescriptor(at.prototype,"friction"),at.prototype),s(at.prototype,"rollingFriction",[a],Object.getOwnPropertyDescriptor(at.prototype,"rollingFriction"),at.prototype),s(at.prototype,"spinningFriction",[a],Object.getOwnPropertyDescriptor(at.prototype,"spinningFriction"),at.prototype),s(at.prototype,"restitution",[a],Object.getOwnPropertyDescriptor(at.prototype,"restitution"),at.prototype),lt=s(at.prototype,"_friction",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),ut=s(at.prototype,"_rollingFriction",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),ct=s(at.prototype,"_spinningFriction",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),pt=s(at.prototype,"_restitution",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),st=at))||st),mt=t("b",function(){function t(){p(this,t),this._hitPoint=new m,this._hitNormal=new m,this._distance=0,this._collider=null}return u(t,[{key:"_assign",value:function(t,e,i,n){m.copy(this._hitPoint,t),m.copy(this._hitNormal,n),this._distance=e,this._collider=i}},{key:"clone",value:function(){var e=new t;return m.copy(e._hitPoint,this._hitPoint),m.copy(e._hitNormal,this._hitNormal),e._distance=this._distance,e._collider=this._collider,e}},{key:"hitPoint",get:function(){return this._hitPoint}},{key:"distance",get:function(){return this._distance}},{key:"collider",get:function(){return this._collider}},{key:"hitNormal",get:function(){return this._hitNormal}}]),t}());!function(t){t[t.DEFAULT=1]="DEFAULT"}(gt||(gt={})),i(gt),e.internal.PhysicsGroup=gt;var vt,Ct,kt,St,Ot,wt,Tt,Pt,Et,Mt,xt,Dt,It,At,Nt,Lt,Rt,Bt,Ft,zt,jt,Ht,Gt,Ut,Xt,Yt,qt,Vt,Wt,Kt,Zt,Jt,Qt,$t,te,ee,ie,ne,re,oe,se,ae,le,ue,ce,pe,he,ye=function t(){var e=this;p(this,t),this.updateArray=[];for(var i=function(t){var i=1<<t;e["_".concat(i)]=0,Object.defineProperty(e,i,{get:function(){return this["_".concat(i)]},set:function(t){this["_".concat(i)]!=t&&(this["_".concat(i)]=t,this.updateArray.indexOf(i)<0&&this.updateArray.push(i))}})},n=0;n<32;n++)i(n);this._1=gt.DEFAULT},_e=t("P",function(t){function e(){var t;p(this,e),(t=h(this,y(e).call(this))).physicsWorld=void 0,t.raycastClosestResult=new mt,t.raycastResults=[],t.collisionMatrix=new ye,t.useCollisionMatrix=void 0,t.useNodeChains=void 0,t._enable=!0,t._allowSleep=!0,t._maxSubSteps=1,t._subStepCount=0,t._fixedTimeStep=1/60,t._autoSimulation=!0,t._accumulator=0,t._sleepThreshold=.1,t._gravity=new m(0,-10,0),t._material=new bt,t.raycastOptions={group:-1,mask:-1,queryTrigger:!0,maxDistance:1e7},t.raycastResultPool=new B((function(){return new mt}),1);var i=F.config?F.config.physics:null;if(i){if(m.copy(t._gravity,i.gravity),t._allowSleep=i.allowSleep,t._fixedTimeStep=i.fixedTimeStep,t._maxSubSteps=i.maxSubSteps,t._sleepThreshold=i.sleepThreshold,t.autoSimulation=i.autoSimulation,t.useNodeChains=i.useNodeChains,t.useCollisionMatrix=i.useCollsionMatrix,i.defaultMaterial&&(t._material.friction=i.defaultMaterial.friction,t._material.rollingFriction=i.defaultMaterial.rollingFriction,t._material.spinningFriction=i.defaultMaterial.spinningFriction,t._material.restitution=i.defaultMaterial.restitution),i.collisionMatrix)for(var n in i.collisionMatrix){var r=1<<parseInt(n);t.collisionMatrix["_".concat(r)]=i.collisionMatrix[n]}}else t.useCollisionMatrix=!1,t.useNodeChains=!1;return t._material.on("physics_material_update",t._updateMaterial,d(t)),t.physicsWorld=new K.PhysicsWorld,t.physicsWorld.setGravity(t._gravity),t.physicsWorld.setAllowSleep(t._allowSleep),t.physicsWorld.setDefaultMaterial(t._material),t}return l(e,t),u(e,[{key:"enable",get:function(){return this._enable},set:function(t){this._enable=t}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this.physicsWorld.setAllowSleep(t)}},{key:"maxSubSteps",get:function(){return this._maxSubSteps},set:function(t){this._maxSubSteps=t}},{key:"fixedTimeStep",get:function(){return this._fixedTimeStep},set:function(t){this._fixedTimeStep=t}},{key:"gravity",get:function(){return this._gravity},set:function(t){this._gravity.set(t),this.physicsWorld.setGravity(t)}},{key:"sleepThreshold",get:function(){return this._sleepThreshold},set:function(t){this._sleepThreshold=t}},{key:"autoSimulation",get:function(){return this._autoSimulation},set:function(t){this._autoSimulation=t}},{key:"defaultMaterial",get:function(){return this._material}}],[{key:"PHYSICS_NONE",get:function(){return!Z}},{key:"PHYSICS_BUILTIN",get:function(){return"builtin"===Z}},{key:"PHYSICS_CANNON",get:function(){return"cannon.js"===Z}},{key:"PHYSICS_AMMO",get:function(){return"ammo.js"===Z}},{key:"PhysicsGroup",get:function(){return gt}},{key:"instance",get:function(){return e._instance}}]),u(e,[{key:"postUpdate",value:function(t){if(this._enable){if(this._autoSimulation){for(this._subStepCount=0,this._accumulator+=t,Y.emit(q.EVENT_BEFORE_PHYSICS);this._subStepCount<this._maxSubSteps;){if(!(this._accumulator>this._fixedTimeStep)){this.physicsWorld.syncSceneToPhysics();break}this.updateCollisionMatrix(),this.physicsWorld.syncSceneToPhysics(),this.physicsWorld.step(this._fixedTimeStep),this._accumulator-=this._fixedTimeStep,this._subStepCount++,this.physicsWorld.emitEvents(),this.physicsWorld.syncSceneToPhysics()}Y.emit(q.EVENT_AFTER_PHYSICS)}}else this.physicsWorld.syncSceneToPhysics()}},{key:"resetAccumulator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._accumulator=t}},{key:"step",value:function(t,e,i){this.physicsWorld.step(t,e,i)}},{key:"syncSceneToPhysics",value:function(){this.physicsWorld.syncSceneToPhysics()}},{key:"emitEvents",value:function(){this.physicsWorld.emitEvents()}},{key:"updateCollisionMatrix",value:function(){if(this.useCollisionMatrix)for(var t=this.collisionMatrix.updateArray;t.length>0;){var e=t.pop(),i=this.collisionMatrix[e];this.physicsWorld.updateCollisionMatrix(e,i)}}},{key:"resetCollisionMatrix",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4294967295,e=0;e<32;e++){var i=1<<e;this.collisionMatrix["".concat(i)]=t}}},{key:"isCollisionGroup",value:function(t,e){var i=this.collisionMatrix,n=i[t];return t&i[e]&&e&n}},{key:"setCollisionGroup",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.collisionMatrix;i?(n[t]|=e,n[e]|=t):(n[t]&=~e,n[e]&=~t)}},{key:"raycast",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4294967295,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e7,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.updateCollisionMatrix(),this.raycastResultPool.reset(),this.raycastResults.length=0,this.raycastOptions.mask=e,this.raycastOptions.maxDistance=i,this.raycastOptions.queryTrigger=n,this.physicsWorld.raycast(t,this.raycastOptions,this.raycastResultPool,this.raycastResults)}},{key:"raycastClosest",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4294967295,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e7,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.updateCollisionMatrix(),this.raycastOptions.mask=e,this.raycastOptions.maxDistance=i,this.raycastOptions.queryTrigger=n,this.physicsWorld.raycastClosest(t,this.raycastOptions,this.raycastClosestResult)}},{key:"_updateMaterial",value:function(){this.physicsWorld.setDefaultMaterial(this._material)}}]),e}(V));_e.ID="PHYSICS",_e._instance=void 0,Y.once(q.EVENT_INIT,(function(){!function(){if(!_e.PHYSICS_NONE&&!v){var t=new e.PhysicsSystem;e.PhysicsSystem._instance=t,Y.registerSystem(_e.ID,t,0)}}()}));var de,fe,ge,be,me,ve,Ce,ke,Se,Oe,we,Te,Pe,Ee,Me,xe,De,Ie,Ae,Ne,Le,Re=t("R",(vt=o("cc.RigidBody"),Ct=S(),kt=O(),St=j(-1),Ot=C(_e.PhysicsGroup),wt=w(),Tt=T(),Pt=w(),Et=T(),Mt=w(),xt=P(),Dt=T(),It=w(),At=P(),Nt=T(),Lt=w(),Rt=P(),Bt=T(),Ft=w(),zt=P(),jt=T(),Ht=w(),Gt=P(),Ut=T(),Xt=w(),Yt=P(),qt=T(),Vt=w(),Wt=P(),Kt=T(),Zt=w(),Jt=P(),Qt=T(),vt($t=Ct($t=kt($t=k($t=z($t=St((he=pe=function(t){function e(){var t,i;p(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(i=h(this,(t=y(e)).call.apply(t,[this].concat(r))))._body=null,_(i,"_group",ee,d(i)),_(i,"_mass",ie,d(i)),_(i,"_allowSleep",ne,d(i)),_(i,"_linearDamping",re,d(i)),_(i,"_angularDamping",oe,d(i)),_(i,"_fixedRotation",se,d(i)),_(i,"_isKinematic",ae,d(i)),_(i,"_useGravity",le,d(i)),_(i,"_linearFactor",ue,d(i)),_(i,"_angularFactor",ce,d(i)),i}return l(e,t),u(e,[{key:"onLoad",value:function(){this._body=new K.RigidBody,this._body.initialize(this)}},{key:"onEnable",value:function(){this._body&&this._body.onEnable()}},{key:"onDisable",value:function(){this._body&&this._body.onDisable()}},{key:"onDestroy",value:function(){this._body&&this._body.onDestroy()}},{key:"applyForce",value:function(t,e){this._assertOnLoadCalled&&this._body.applyForce(t,e)}},{key:"applyLocalForce",value:function(t,e){this._assertOnLoadCalled&&this._body.applyLocalForce(t,e)}},{key:"applyImpulse",value:function(t,e){this._assertOnLoadCalled&&this._body.applyImpulse(t,e)}},{key:"applyLocalImpulse",value:function(t,e){this._assertOnLoadCalled&&this._body.applyLocalImpulse(t,e)}},{key:"applyTorque",value:function(t){this._assertOnLoadCalled&&this._body.applyTorque(t)}},{key:"applyLocalTorque",value:function(t){this._assertOnLoadCalled&&this._body.applyLocalTorque(t)}},{key:"wakeUp",value:function(){this._assertOnLoadCalled&&this._body.wakeUp()}},{key:"sleep",value:function(){this._assertOnLoadCalled&&this._body.sleep()}},{key:"clearState",value:function(){this._assertOnLoadCalled&&this._body.clearState()}},{key:"clearForces",value:function(){this._assertOnLoadCalled&&this._body.clearForces()}},{key:"clearVelocity",value:function(){this._assertOnLoadCalled&&this._body.clearVelocity()}},{key:"getLinearVelocity",value:function(t){this._assertOnLoadCalled&&this._body.getLinearVelocity(t)}},{key:"setLinearVelocity",value:function(t){this._assertOnLoadCalled&&this._body.setLinearVelocity(t)}},{key:"getAngularVelocity",value:function(t){this._assertOnLoadCalled&&this._body.getAngularVelocity(t)}},{key:"setAngularVelocity",value:function(t){this._assertOnLoadCalled&&this._body.setAngularVelocity(t)}},{key:"getGroup",value:function(){return this._assertOnLoadCalled?this._body.getGroup():0}},{key:"setGroup",value:function(t){this._assertOnLoadCalled&&(this.group=t)}},{key:"addGroup",value:function(t){this._assertOnLoadCalled&&!this._assertUseCollisionMatrix&&this._body.addGroup(t)}},{key:"removeGroup",value:function(t){this._assertOnLoadCalled&&!this._assertUseCollisionMatrix&&this._body.removeGroup(t)}},{key:"getMask",value:function(){return this._assertOnLoadCalled?this._body.getMask():0}},{key:"setMask",value:function(t){this._assertOnLoadCalled&&!this._assertUseCollisionMatrix&&this._body.setMask(t)}},{key:"addMask",value:function(t){this._assertOnLoadCalled&&!this._assertUseCollisionMatrix&&this._body.addMask(t)}},{key:"removeMask",value:function(t){this._assertOnLoadCalled&&!this._assertUseCollisionMatrix&&this._body.removeMask(t)}},{key:"group",get:function(){return this._group},set:function(t){this._group=t,this._body&&this._body.setGroup(t)}},{key:"mass",get:function(){return this._mass},set:function(t){t=t<0?0:t,this._mass=t,this._body&&this._body.setMass(t)}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this._body&&this._body.setAllowSleep(t)}},{key:"linearDamping",get:function(){return this._linearDamping},set:function(t){this._linearDamping=t,this._body&&this._body.setLinearDamping(t)}},{key:"angularDamping",get:function(){return this._angularDamping},set:function(t){this._angularDamping=t,this._body&&this._body.setAngularDamping(t)}},{key:"isKinematic",get:function(){return this._isKinematic},set:function(t){this._isKinematic=t,this._body&&this._body.setIsKinematic(t)}},{key:"useGravity",get:function(){return this._useGravity},set:function(t){this._useGravity=t,this._body&&this._body.useGravity(t)}},{key:"fixedRotation",get:function(){return this._fixedRotation},set:function(t){this._fixedRotation=t,this._body&&this._body.fixRotation(t)}},{key:"linearFactor",get:function(){return this._linearFactor},set:function(t){m.copy(this._linearFactor,t),this._body&&this._body.setLinearFactor(this._linearFactor)}},{key:"angularFactor",get:function(){return this._angularFactor},set:function(t){m.copy(this._angularFactor,t),this._body&&this._body.setAngularFactor(this._angularFactor)}},{key:"sleepThreshold",get:function(){return this._assertOnLoadCalled?this._body.getSleepThreshold():0},set:function(t){this._assertOnLoadCalled&&this._body.setSleepThreshold(t)}},{key:"isAwake",get:function(){return!!this._assertOnLoadCalled&&this._body.isAwake}},{key:"isSleepy",get:function(){return!!this._assertOnLoadCalled&&this._body.isSleepy}},{key:"isSleeping",get:function(){return!!this._assertOnLoadCalled&&this._body.isSleeping}},{key:"body",get:function(){return this._body}},{key:"_assertOnLoadCalled",get:function(){var t=0==this._isOnLoadCalled;return t&&E("[Physics]: Please make sure that the node has been added to the scene"),!t}},{key:"_assertUseCollisionMatrix",get:function(){return _e.instance.useCollisionMatrix&&E("[Physics]: useCollisionMatrix is turn on, using collision matrix instead please."),_e.instance.useCollisionMatrix}}]),e}(M),pe.ERigidBodyType=J,s((te=he).prototype,"group",[Ot,wt,Tt],Object.getOwnPropertyDescriptor(te.prototype,"group"),te.prototype),s(te.prototype,"mass",[Pt,Et],Object.getOwnPropertyDescriptor(te.prototype,"mass"),te.prototype),s(te.prototype,"allowSleep",[Mt,xt,Dt],Object.getOwnPropertyDescriptor(te.prototype,"allowSleep"),te.prototype),s(te.prototype,"linearDamping",[It,At,Nt],Object.getOwnPropertyDescriptor(te.prototype,"linearDamping"),te.prototype),s(te.prototype,"angularDamping",[Lt,Rt,Bt],Object.getOwnPropertyDescriptor(te.prototype,"angularDamping"),te.prototype),s(te.prototype,"isKinematic",[Ft,zt,jt],Object.getOwnPropertyDescriptor(te.prototype,"isKinematic"),te.prototype),s(te.prototype,"useGravity",[Ht,Gt,Ut],Object.getOwnPropertyDescriptor(te.prototype,"useGravity"),te.prototype),s(te.prototype,"fixedRotation",[Xt,Yt,qt],Object.getOwnPropertyDescriptor(te.prototype,"fixedRotation"),te.prototype),s(te.prototype,"linearFactor",[Vt,Wt,Kt],Object.getOwnPropertyDescriptor(te.prototype,"linearFactor"),te.prototype),s(te.prototype,"angularFactor",[Zt,Jt,Qt],Object.getOwnPropertyDescriptor(te.prototype,"angularFactor"),te.prototype),ee=s(te.prototype,"_group",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _e.PhysicsGroup.DEFAULT}}),ie=s(te.prototype,"_mass",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ne=s(te.prototype,"_allowSleep",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),re=s(te.prototype,"_linearDamping",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),oe=s(te.prototype,"_angularDamping",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),se=s(te.prototype,"_fixedRotation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=s(te.prototype,"_isKinematic",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=s(te.prototype,"_useGravity",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ue=s(te.prototype,"_linearFactor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m(1,1,1)}}),ce=s(te.prototype,"_angularFactor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m(1,1,1)}}),$t=te))||$t)||$t)||$t)||$t)||$t)||$t));Re||(Re=t("R",{}));var Be,Fe,ze,je,He,Ge,Ue,Xe,Ye=t("C",(de=o("cc.Collider"),fe=C(Re),ge=I(),be=w(),me=C(bt),ve=I(),Ce=w(),ke=T(),Se=w(),Oe=T(),we=C(m),Te=w(),Pe=T(),Ee=C(bt),de((Le=Ne=function(t){function e(t){var i;return p(this,e),(i=h(this,y(e).call(this))).TYPE=void 0,i._shape=null,i._aabb=null,i._boundingSphere=null,i._isSharedMaterial=!0,i._needTriggerEvent=!1,i._needCollisionEvent=!1,_(i,"_material",De,d(i)),_(i,"_isTrigger",Ie,d(i)),_(i,"_center",Ae,d(i)),i.TYPE=t,i}return l(e,t),u(e,[{key:"attachedRigidBody",get:function(){return function t(e){var i=e.getComponent(Re);return i&&i.isValid?i:null==e.parent||e.parent==e.scene?null:t(e.parent)}(this.node)}},{key:"sharedMaterial",get:function(){return this._material},set:function(t){this.material=t}},{key:"material",get:function(){return this._isSharedMaterial&&null!=this._material&&(this._material.off("physics_material_update",this._updateMaterial,this),this._material=this._material.clone(),this._material.on("physics_material_update",this._updateMaterial,this),this._isSharedMaterial=!1),this._material},set:function(t){this._shape&&(null!=t&&null!=this._material?this._material._uuid!=t._uuid&&(this._material.off("physics_material_update",this._updateMaterial,this),t.on("physics_material_update",this._updateMaterial,this),this._isSharedMaterial=!1,this._material=t):null!=t&&null==this._material?(t.on("physics_material_update",this._updateMaterial,this),this._material=t):null==t&&null!=this._material&&(this._material.off("physics_material_update",this._updateMaterial,this),this._material=t),this._updateMaterial())}},{key:"isTrigger",get:function(){return this._isTrigger},set:function(t){this._isTrigger=t,this._shape&&this._shape.setAsTrigger(this._isTrigger)}},{key:"center",get:function(){return this._center},set:function(t){m.copy(this._center,t),this._shape&&this._shape.setCenter(this._center)}},{key:"shape",get:function(){return this._shape}},{key:"worldBounds",get:function(){return null==this._aabb&&(this._aabb=new H),this._shape&&this._shape.getAABB(this._aabb),this._aabb}},{key:"boundingSphere",get:function(){return null==this._boundingSphere&&(this._boundingSphere=new G),this._shape&&this._shape.getBoundingSphere(this._boundingSphere),this._boundingSphere}},{key:"needTriggerEvent",get:function(){return this._needTriggerEvent}},{key:"needCollisionEvent",get:function(){return this._needCollisionEvent}},{key:"_assertOnLoadCalled",get:function(){var t=0==this._isOnLoadCalled;return t&&E("[Physics]: Please make sure that the node has been added to the scene"),!t}},{key:"_assertUseCollisionMatrix",get:function(){return _e.instance.useCollisionMatrix&&E("[Physics]: useCollisionMatrix is turn on, using collision matrix instead please."),_e.instance.useCollisionMatrix}}]),u(e,[{key:"on",value:function(t,i,n,r){var o=f(y(e.prototype),"on",this).call(this,t,i,n,r);return this._updateNeedEvent(t),o}},{key:"off",value:function(t,i,n){f(y(e.prototype),"off",this).call(this,t,i,n),this._updateNeedEvent()}},{key:"once",value:function(t,i,n){var r=f(y(e.prototype),"once",this).call(this,t,i,n);return this._updateNeedEvent(t),r}},{key:"removeAll",value:function(t){f(y(e.prototype),"removeAll",this).call(this,t),this._updateNeedEvent()}},{key:"getGroup",value:function(){return this._assertOnLoadCalled?this._shape.getGroup():0}},{key:"setGroup",value:function(t){if(this._assertOnLoadCalled)if(_e.instance.useCollisionMatrix){var e=this._shape.attachedRigidBody;e?e.group=t:(this._shape.setGroup(t),this._updateMask())}else this._shape.setGroup(t)}},{key:"addGroup",value:function(t){if(this._assertOnLoadCalled)if(this._assertUseCollisionMatrix){var e=this._shape.attachedRigidBody;e?e.group|=t:(this._shape.addGroup(t),this._updateMask())}else this._shape.addGroup(t)}},{key:"removeGroup",value:function(t){if(this._assertOnLoadCalled)if(this._assertUseCollisionMatrix){var e=this._shape.attachedRigidBody;e?e.group&=~t:(this._shape.removeGroup(t),this._updateMask())}else this._shape.removeGroup(t)}},{key:"getMask",value:function(){return this._assertOnLoadCalled?this._shape.getMask():0}},{key:"setMask",value:function(t){this._assertOnLoadCalled&&!this._assertUseCollisionMatrix&&this._shape.setMask(t)}},{key:"addMask",value:function(t){this._assertOnLoadCalled&&!this._assertUseCollisionMatrix&&this._shape.addMask(t)}},{key:"removeMask",value:function(t){this._assertOnLoadCalled&&!this._assertUseCollisionMatrix&&this._shape.removeMask(t)}},{key:"onLoad",value:function(){this._shape=ot(this.TYPE),this._shape.initialize(this),this.sharedMaterial=null==this._material?_e.instance.defaultMaterial:this._material,this._shape.onLoad()}},{key:"onEnable",value:function(){this._shape&&this._shape.onEnable()}},{key:"onDisable",value:function(){this._shape&&this._shape.onDisable()}},{key:"onDestroy",value:function(){this._shape&&(this._material&&this._material.off("physics_material_update",this._updateMaterial,this),this._shape.onDestroy())}},{key:"_updateMaterial",value:function(){this._shape&&this._shape.setMaterial(this._material)}},{key:"_updateNeedEvent",value:function(t){this.isValid&&(void 0!==t?"onCollisionEnter"==t||"onCollisionStay"==t||"onCollisionExit"==t?this._needCollisionEvent=!0:"onTriggerEnter"!=t&&"onTriggerStay"!=t&&"onTriggerExit"!=t||(this._needTriggerEvent=!0):this.hasEventListener("onTriggerEnter")||this.hasEventListener("onTriggerStay")||this.hasEventListener("onTriggerExit")?this.hasEventListener("onCollisionEnter")||this.hasEventListener("onCollisionStay")||this.hasEventListener("onCollisionExit")||(this._needCollisionEvent=!1):this._needTriggerEvent=!1)}},{key:"_updateMask",value:function(){this._shape.setMask(_e.instance.collisionMatrix[this._shape.getGroup()])}}]),e}(x(M)),Ne.EColliderType=tt,Ne.EAxisDirection=Q,s((xe=Le).prototype,"attachedRigidBody",[fe,D,ge,be],Object.getOwnPropertyDescriptor(xe.prototype,"attachedRigidBody"),xe.prototype),s(xe.prototype,"sharedMaterial",[me,ve,Ce,ke],Object.getOwnPropertyDescriptor(xe.prototype,"sharedMaterial"),xe.prototype),s(xe.prototype,"isTrigger",[Se,Oe],Object.getOwnPropertyDescriptor(xe.prototype,"isTrigger"),xe.prototype),s(xe.prototype,"center",[we,Te,Pe],Object.getOwnPropertyDescriptor(xe.prototype,"center"),xe.prototype),De=s(xe.prototype,"_material",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=s(xe.prototype,"_isTrigger",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ae=s(xe.prototype,"_center",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),Me=xe))||Me));Ye||(Ye=t("C",{}));var qe,Ve,We,Ke,Ze,Je,Qe,$e,ti,ei,ii,ni,ri,oi,si,ai,li,ui,ci,pi,hi,yi,_i,di,fi,gi,bi,mi,vi,Ci,ki,Si,Oi,wi,Ti,Pi,Ei,Mi,xi,Di,Ii,Ai,Ni,Li,Ri,Bi,Fi,zi,ji,Hi,Gi,Ui,Xi,Yi,qi,Vi,Wi,Ki,Zi,Ji,Qi,$i,tn,en,nn,rn,on,sn,an,ln,un,cn,pn,hn,yn,_n,dn,fn,gn,bn,mn,vn,Cn,kn,Sn,On,wn,Tn,Pn,En,Mn,xn,Dn,In,An,Nn,Ln=t("B",(Be=o("cc.BoxCollider"),Fe=S(),ze=O(),je=C(m),He=T(),Be(Ge=Fe(Ge=ze(Ge=k((s((Ue=function(t){function e(){var t;return p(this,e),t=h(this,y(e).call(this,tt.BOX)),_(t,"_size",Xe,d(t)),t}return l(e,t),u(e,[{key:"size",get:function(){return this._size},set:function(t){m.copy(this._size,t),this._shape&&this.shape.setSize(this._size)}},{key:"shape",get:function(){return this._shape}}]),e}(Ye)).prototype,"size",[je,He],Object.getOwnPropertyDescriptor(Ue.prototype,"size"),Ue.prototype),Xe=s(Ue.prototype,"_size",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m(1,1,1)}}),Ge=Ue))||Ge)||Ge)||Ge)||Ge)),Rn=t("c",(qe=o("cc.SphereCollider"),Ve=S(),We=O(),Ke=T(),qe(Ze=Ve(Ze=We(Ze=k((s((Je=function(t){function e(){var t;return p(this,e),t=h(this,y(e).call(this,tt.SPHERE)),_(t,"_radius",Qe,d(t)),t}return l(e,t),u(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t,this.shape.setRadius(this._radius)}},{key:"shape",get:function(){return this._shape}}]),e}(Ye)).prototype,"radius",[Ke],Object.getOwnPropertyDescriptor(Je.prototype,"radius"),Je.prototype),Qe=s(Je.prototype,"_radius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Ze=Je))||Ze)||Ze)||Ze)||Ze)),Bn=t("d",($e=o("cc.CapsuleCollider"),ti=S(),ei=O(),ii=T(),ni=T(),ri=C(Q),oi=T(),$e(si=ti(si=ei(si=k((s((ai=function(t){function e(){var t;return p(this,e),t=h(this,y(e).call(this,tt.CAPSULE)),_(t,"_radius",li,d(t)),_(t,"_cylinderHeight",ui,d(t)),_(t,"_direction",ci,d(t)),t}return l(e,t),u(e,[{key:"radius",get:function(){return this._radius},set:function(t){t<0&&(t=0),this._radius=t,this.shape.setRadius(t)}},{key:"cylinderHeight",get:function(){return this._cylinderHeight},set:function(t){t<0&&(t=0),this._cylinderHeight=t,this.shape.setCylinderHeight(t)}},{key:"direction",get:function(){return this._direction},set:function(t){(t=Math.floor(t))<Q.X_AXIS||t>Q.Z_AXIS||(this._direction=t,this.shape.setDirection(t))}},{key:"height",get:function(){return 2*this._radius+this._cylinderHeight},set:function(t){var e=t-2*this._radius;e<0&&(e=0),this.cylinderHeight=e}},{key:"worldHeight",get:function(){return 2*this._radius*this._getRadiusScale()+this._cylinderHeight*this._getHeightScale()}},{key:"shape",get:function(){return this._shape}}]),u(e,[{key:"_getRadiusScale",value:function(){if(null==this.node)return 1;var t=this.node.worldScale;return this._direction==Q.Y_AXIS?Math.abs(A(t.x,t.z)):this._direction==Q.X_AXIS?Math.abs(A(t.y,t.z)):Math.abs(A(t.x,t.y))}},{key:"_getHeightScale",value:function(){if(null==this.node)return 1;var t=this.node.worldScale;return this._direction==Q.Y_AXIS?Math.abs(t.y):this._direction==Q.X_AXIS?Math.abs(t.x):Math.abs(t.z)}}]),e}(Ye)).prototype,"radius",[ii],Object.getOwnPropertyDescriptor(ai.prototype,"radius"),ai.prototype),s(ai.prototype,"cylinderHeight",[ni],Object.getOwnPropertyDescriptor(ai.prototype,"cylinderHeight"),ai.prototype),s(ai.prototype,"direction",[ri,oi],Object.getOwnPropertyDescriptor(ai.prototype,"direction"),ai.prototype),li=s(ai.prototype,"_radius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),ui=s(ai.prototype,"_cylinderHeight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ci=s(ai.prototype,"_direction",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.Y_AXIS}}),si=ai))||si)||si)||si)||si)),Fn=t("e",(pi=o("cc.CylinderCollider"),hi=S(),yi=O(),_i=T(),di=T(),fi=C(Q),pi(gi=hi(gi=yi(gi=k((s((bi=function(t){function e(){var t;return p(this,e),t=h(this,y(e).call(this,tt.CYLINDER)),_(t,"_radius",mi,d(t)),_(t,"_height",vi,d(t)),_(t,"_direction",Ci,d(t)),t}return l(e,t),u(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!=t&&(t<0&&(t=0),this._radius=t,this.shape.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!=t&&(t<0&&(t=0),this._height=t,this.shape.setHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!=t&&(t<Q.X_AXIS||t>Q.Z_AXIS||(this._direction=t,this.shape.setDirection(t)))}},{key:"shape",get:function(){return this._shape}}]),e}(Ye)).prototype,"radius",[_i],Object.getOwnPropertyDescriptor(bi.prototype,"radius"),bi.prototype),s(bi.prototype,"height",[di],Object.getOwnPropertyDescriptor(bi.prototype,"height"),bi.prototype),s(bi.prototype,"direction",[fi],Object.getOwnPropertyDescriptor(bi.prototype,"direction"),bi.prototype),mi=s(bi.prototype,"_radius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),vi=s(bi.prototype,"_height",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),Ci=s(bi.prototype,"_direction",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.Y_AXIS}}),gi=bi))||gi)||gi)||gi)||gi)),zn=(t("f",(ki=o("cc.ConeCollider"),Si=S(),Oi=O(),wi=T(),Ti=T(),Pi=C(Q),ki(Ei=Si(Ei=Oi(Ei=k((s((Mi=function(t){function e(){var t;return p(this,e),t=h(this,y(e).call(this,tt.CONE)),_(t,"_radius",xi,d(t)),_(t,"_height",Di,d(t)),_(t,"_direction",Ii,d(t)),t}return l(e,t),u(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!=t&&(t<0&&(t=0),this._radius=t,this.shape.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!=t&&(t<0&&(t=0),this._height=t,this.shape.setHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!=t&&(t<Q.X_AXIS||t>Q.Z_AXIS||(this._direction=t,this.shape.setDirection(t)))}},{key:"shape",get:function(){return this._shape}}]),e}(Ye)).prototype,"radius",[wi],Object.getOwnPropertyDescriptor(Mi.prototype,"radius"),Mi.prototype),s(Mi.prototype,"height",[Ti],Object.getOwnPropertyDescriptor(Mi.prototype,"height"),Mi.prototype),s(Mi.prototype,"direction",[Pi],Object.getOwnPropertyDescriptor(Mi.prototype,"direction"),Mi.prototype),xi=s(Mi.prototype,"_radius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Di=s(Mi.prototype,"_height",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ii=s(Mi.prototype,"_direction",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q.Y_AXIS}}),Ei=Mi))||Ei)||Ei)||Ei)||Ei)),t("M",(Ai=o("cc.MeshCollider"),Ni=S(),Li=O(),Ri=C(U),Ai(Bi=Ni(Bi=Li(Bi=k((s((Fi=function(t){function e(){var t;return p(this,e),t=h(this,y(e).call(this,tt.MESH)),_(t,"_mesh",zi,d(t)),_(t,"_convex",ji,d(t)),t}return l(e,t),u(e,[{key:"mesh",get:function(){return this._mesh},set:function(t){this._mesh=t,this.shape.setMesh(this._mesh)}},{key:"convex",get:function(){return this._convex},set:function(t){this._convex=t}},{key:"shape",get:function(){return this._shape}}]),e}(Ye)).prototype,"mesh",[Ri],Object.getOwnPropertyDescriptor(Fi.prototype,"mesh"),Fi.prototype),s(Fi.prototype,"convex",[a],Object.getOwnPropertyDescriptor(Fi.prototype,"convex"),Fi.prototype),zi=s(Fi.prototype,"_mesh",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ji=s(Fi.prototype,"_convex",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bi=Fi))||Bi)||Bi)||Bi)||Bi))),jn=t("k",(Hi=o("cc.ConstantForce"),Gi=S(),Ui=X(Re),Xi=O(),Yi=w(),qi=T(),Vi=w(),Wi=T(),Ki=w(),Zi=T(),Ji=w(),Qi=T(),Hi($i=Gi($i=Ui($i=Xi($i=z($i=k((en=s((tn=function(t){function e(){var t,i;p(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(i=h(this,(t=y(e)).call.apply(t,[this].concat(r))))._rigidBody=null,_(i,"_force",en,d(i)),_(i,"_localForce",nn,d(i)),_(i,"_torque",rn,d(i)),_(i,"_localTorque",on,d(i)),i._mask=0,i}return l(e,t),u(e,[{key:"onLoad",value:function(){this._rigidBody=this.node.getComponent(Re),this._maskUpdate(this._force,1),this._maskUpdate(this._localForce,2),this._maskUpdate(this._torque,4),this._maskUpdate(this._localTorque,8)}},{key:"lateUpdate",value:function(t){null!=this._rigidBody&&0!=this._mask&&(1&this._mask&&this._rigidBody.applyForce(this._force),2&this._mask&&this._rigidBody.applyLocalForce(this.localForce),4&this._mask&&this._rigidBody.applyTorque(this._torque),8&this._mask&&this._rigidBody.applyLocalTorque(this._localTorque))}},{key:"_maskUpdate",value:function(t,e){t.strictEquals(m.ZERO)?this._mask&=~e:this._mask|=e}},{key:"force",get:function(){return this._force},set:function(t){m.copy(this._force,t),this._maskUpdate(this._force,1)}},{key:"localForce",get:function(){return this._localForce},set:function(t){m.copy(this._localForce,t),this._maskUpdate(this.localForce,2)}},{key:"torque",get:function(){return this._torque},set:function(t){m.copy(this._torque,t),this._maskUpdate(this._torque,4)}},{key:"localTorque",get:function(){return this._localTorque},set:function(t){m.copy(this._localTorque,t),this._maskUpdate(this._localTorque,8)}}]),e}(M)).prototype,"_force",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),nn=s(tn.prototype,"_localForce",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),rn=s(tn.prototype,"_torque",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),on=s(tn.prototype,"_localTorque",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),s(tn.prototype,"force",[Yi,qi],Object.getOwnPropertyDescriptor(tn.prototype,"force"),tn.prototype),s(tn.prototype,"localForce",[Vi,Wi],Object.getOwnPropertyDescriptor(tn.prototype,"localForce"),tn.prototype),s(tn.prototype,"torque",[Ki,Zi],Object.getOwnPropertyDescriptor(tn.prototype,"torque"),tn.prototype),s(tn.prototype,"localTorque",[Ji,Qi],Object.getOwnPropertyDescriptor(tn.prototype,"localTorque"),tn.prototype),$i=tn))||$i)||$i)||$i)||$i)||$i)||$i)),Hn=(t("T",(sn=o("cc.TerrainCollider"),an=S(),ln=O(),un=C(W),sn(cn=an(cn=ln(cn=k((s((pn=function(t){function e(){var t;return p(this,e),t=h(this,y(e).call(this,tt.TERRAIN)),_(t,"_terrain",hn,d(t)),t}return l(e,t),u(e,[{key:"terrain",get:function(){return this._terrain},set:function(t){this._terrain=t,this.shape.setTerrain(this._terrain)}},{key:"shape",get:function(){return this._shape}}]),e}(Ye)).prototype,"terrain",[un],Object.getOwnPropertyDescriptor(pn.prototype,"terrain"),pn.prototype),hn=s(pn.prototype,"_terrain",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cn=pn))||cn)||cn)||cn)||cn)),t("S",(yn=o("cc.SimplexCollider"),_n=S(),dn=O(),fn=C($),gn=P(),bn=P(),mn=P(),yn(vn=_n(vn=dn(vn=k((wn=On=function(t){function e(){var t;return p(this,e),t=h(this,y(e).call(this,tt.SIMPLEX)),_(t,"_shapeType",kn,d(t)),_(t,"_vertices",Sn,d(t)),t}return l(e,t),u(e,[{key:"shapeType",get:function(){return this._shapeType},set:function(t){this._shapeType=t,this.shape.setShapeType(t)}},{key:"vertex0",get:function(){return this._vertices[0]},set:function(t){m.copy(this._vertices[0],t),this.updateVertices()}},{key:"vertex1",get:function(){return this._vertices[1]},set:function(t){m.copy(this._vertices[1],t),this.updateVertices()}},{key:"vertex2",get:function(){return this._vertices[2]},set:function(t){m.copy(this._vertices[2],t),this.updateVertices()}},{key:"vertex3",get:function(){return this._vertices[3]},set:function(t){m.copy(this._vertices[3],t),this.updateVertices()}},{key:"shape",get:function(){return this._shape}},{key:"vertices",get:function(){return this._vertices}}]),u(e,[{key:"updateVertices",value:function(){this.shape.setVertices(this._vertices)}}]),e}(Ye),On.ESimplexType=$,s((Cn=wn).prototype,"shapeType",[fn],Object.getOwnPropertyDescriptor(Cn.prototype,"shapeType"),Cn.prototype),s(Cn.prototype,"vertex0",[a],Object.getOwnPropertyDescriptor(Cn.prototype,"vertex0"),Cn.prototype),s(Cn.prototype,"vertex1",[gn],Object.getOwnPropertyDescriptor(Cn.prototype,"vertex1"),Cn.prototype),s(Cn.prototype,"vertex2",[bn],Object.getOwnPropertyDescriptor(Cn.prototype,"vertex2"),Cn.prototype),s(Cn.prototype,"vertex3",[mn],Object.getOwnPropertyDescriptor(Cn.prototype,"vertex3"),Cn.prototype),kn=s(Cn.prototype,"_shapeType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $.TETRAHEDRON}}),Sn=s(Cn.prototype,"_vertices",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new m(0,0,0),new m(0,0,1),new m(1,0,0),new m(0,1,0)]}}),vn=Cn))||vn)||vn)||vn)||vn)));Hn||(Hn=t("S",{}));t("g",(Tn=o("cc.PlaneCollider"),Pn=S(),En=O(),Mn=C(m),xn=T(),Tn(Dn=Pn(Dn=En(Dn=k((s((In=function(t){function e(){var t;return p(this,e),t=h(this,y(e).call(this,tt.PLANE)),_(t,"_normal",An,d(t)),_(t,"_constant",Nn,d(t)),t}return l(e,t),u(e,[{key:"normal",get:function(){return this._normal},set:function(t){m.copy(this._normal,t),this.shape.setNormal(this._normal)}},{key:"constant",get:function(){return this._constant},set:function(t){this._constant=t,this.shape.setConstant(this._constant)}},{key:"shape",get:function(){return this._shape}}]),e}(Ye)).prototype,"normal",[Mn,xn],Object.getOwnPropertyDescriptor(In.prototype,"normal"),In.prototype),s(In.prototype,"constant",[a],Object.getOwnPropertyDescriptor(In.prototype,"constant"),In.prototype),An=s(In.prototype,"_normal",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m(0,1,0)}}),Nn=s(In.prototype,"_constant",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Dn=In))||Dn)||Dn)||Dn)||Dn));var Gn,Un,Xn,Yn,qn,Vn,Wn,Kn,Zn,Jn,Qn,$n,tr,er,ir,nr,rr,or,sr,ar,lr=t("h",(Gn=o("cc.Constraint"),Un=X(Re),Xn=C(Re),Yn=w(),qn=C(Re),Vn=w(),Wn=w(),Kn=C(Re),Gn(Zn=Un((er=tr=function(t){function e(t){var i;return p(this,e),(i=h(this,y(e).call(this))).TYPE=void 0,_(i,"_enableCollision",Qn,d(i)),_(i,"_connectedBody",$n,d(i)),i._constraint=null,i.TYPE=t,i}return l(e,t),u(e,[{key:"attachedBody",get:function(){return this.getComponent(Re)}},{key:"connectedBody",get:function(){return this._connectedBody},set:function(t){this._connectedBody=t,this._constraint&&this._constraint.setConnectedBody(t)}},{key:"enableCollision",get:function(){return this._enableCollision},set:function(t){this._enableCollision=t,this._constraint&&this._constraint.setEnableCollision(t)}}]),u(e,[{key:"onLoad",value:function(){this._constraint=ft(this.TYPE),this._constraint.initialize(this),this._constraint.onLoad()}},{key:"onEnable",value:function(){this._constraint&&this._constraint.onEnable()}},{key:"onDisable",value:function(){this._constraint&&this._constraint.onDisable()}},{key:"onDestroy",value:function(){this._constraint&&this._constraint.onDestroy()}}]),e}(x(M)),tr.EConstraintType=et,s((Jn=er).prototype,"attachedBody",[Xn,D,Yn],Object.getOwnPropertyDescriptor(Jn.prototype,"attachedBody"),Jn.prototype),s(Jn.prototype,"connectedBody",[qn,Vn],Object.getOwnPropertyDescriptor(Jn.prototype,"connectedBody"),Jn.prototype),s(Jn.prototype,"enableCollision",[Wn],Object.getOwnPropertyDescriptor(Jn.prototype,"enableCollision"),Jn.prototype),Qn=s(Jn.prototype,"_enableCollision",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$n=s(Jn.prototype,"_connectedBody",[Kn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zn=Jn))||Zn)||Zn));lr||(lr=t("h",{}));var ur,cr,pr,hr,yr,_r,dr,fr,gr;t("H",o("cc.HingeConstraint")(ir=S()(ir=O()((rr=s((nr=function(t){function e(){var t;return p(this,e),t=h(this,y(e).call(this,et.HINGE)),_(t,"axisA",rr,d(t)),_(t,"axisB",or,d(t)),_(t,"pivotA",sr,d(t)),_(t,"pivotB",ar,d(t)),t}return l(e,t),e}(lr)).prototype,"axisA",[b,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),or=s(nr.prototype,"axisB",[b,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),sr=s(nr.prototype,"pivotA",[b,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),ar=s(nr.prototype,"pivotB",[b,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),ir=nr))||ir)||ir)||ir),t("i",(ur=o("cc.PointToPointConstraint"),cr=S(),pr=O(),hr=C(m),yr=C(m),ur(_r=cr(_r=pr((s((dr=function(t){function e(){var t;return p(this,e),t=h(this,y(e).call(this,et.POINT_TO_POINT)),_(t,"_pivotA",fr,d(t)),_(t,"_pivotB",gr,d(t)),t}return l(e,t),u(e,[{key:"pivotA",get:function(){return this._pivotA},set:function(t){m.copy(this._pivotA,t),this.constraint.setPivotA(this._pivotA)}},{key:"pivotB",get:function(){return this._pivotB},set:function(t){m.copy(this._pivotB,t),this.constraint.setPivotB(this._pivotB)}},{key:"constraint",get:function(){return this._constraint}}]),e}(lr)).prototype,"pivotA",[hr],Object.getOwnPropertyDescriptor(dr.prototype,"pivotA"),dr.prototype),s(dr.prototype,"pivotB",[yr],Object.getOwnPropertyDescriptor(dr.prototype,"pivotB"),dr.prototype),fr=s(dr.prototype,"_pivotA",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),gr=s(dr.prototype,"_pivotB",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new m}}),_r=dr))||_r)||_r)||_r));N(_e,"PhysicsSystem",[{name:"ins",newName:"instance"}]),N(_e.prototype,"PhysicsSystem.prototype",[{name:"deltaTime",newName:"fixedTimeStep"},{name:"maxSubStep",newName:"maxSubSteps"}]),L(_e.prototype,"PhysicsSystem.prototype",[{name:"useFixedTime"}]),N(Ye.prototype,"Collider.prototype",[{name:"attachedRigidbody",newName:"attachedRigidBody"}]),N(Ln.prototype,"BoxCollider.prototype",[{name:"boxShape",newName:"shape"}]),N(Rn.prototype,"SphereCollider.prototype",[{name:"sphereShape",newName:"shape"}]),N(Bn.prototype,"CapsuleCollider.prototype",[{name:"capsuleShape",newName:"shape"}]),N(Re.prototype,"RigidBody.prototype",[{name:"rigidBody",newName:"body"}]),e.RigidBodyComponent=Re,R.setClassAlias(Re,"cc.RigidBodyComponent"),e.ColliderComponent=Ye,R.setClassAlias(Ye,"cc.ColliderComponent"),e.BoxColliderComponent=Ln,R.setClassAlias(Ln,"cc.BoxColliderComponent"),e.SphereColliderComponent=Rn,R.setClassAlias(Rn,"cc.SphereColliderComponent"),R.setClassAlias(Bn,"cc.CapsuleColliderComponent"),R.setClassAlias(zn,"cc.MeshColliderComponent"),R.setClassAlias(Fn,"cc.CylinderColliderComponent"),e.PhysicsSystem=_e,e.PhysicMaterial=bt,e.PhysicsRayResult=mt,e.ConstantForce=jn}}}));
