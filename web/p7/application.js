System.register([],function(e,n){"use strict";function u(n,e){window._CCSettings=void 0,n.view.resizeWithBrowserSize(!0);var t=e.launchScene;n.director.loadScene(t,null,function(){let e=document.getElementById("loading");e.remove(),n.view.setDesignResolutionSize(750,1334,4),console.log("Success to load scene: ".concat(t))})}return e("createApplication",function(e){var r=e.loadJsListFile;return e.fetchWasm,Promise.resolve().then(function(){return t=s,(n="import")in(e={start:o})?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e;var e,n,t});function o(e){var i,n,t=e.findCanvas;return Promise.resolve().then(function(){return s("cc")}).then(function(e){return n=e,s="src/settings.json",new Promise(function(t,r){var o,i,e;"undefined"==typeof fsUtils||s.startsWith("http")?(o=3,i=2e3,function e(){var n=new XMLHttpRequest;n.open("GET",s),n.responseType="text",n.onload=function(){window._CCSettings=JSON.parse(n.response),t()},n.onerror=function(){0<o--?setTimeout(e,i):r(new Error("request settings failed!"))},n.send(null)}()):(e=fsUtils.readJsonSync(s))instanceof Error?r(e):(window._CCSettings=e,t())});var s}).then(function(){return i=window._CCSettings,function(n,e,t){if(n.macro.ENABLE_TRANSPARENT_CANVAS=!0,e.macros)for(var r in e.macros)n.macro[r]=e.macros[r];t=function(e,n,t){var r={bundleVers:n.bundleVers,remoteBundles:n.remoteBundles,server:n.server,subpackages:n.subpackages};return{debugMode:n.debug?e.DebugMode.INFO:e.DebugMode.ERROR,showFPS:n.debug,frameRate:60,groupList:n.groupList,collisionMatrix:n.collisionMatrix,renderPipeline:n.renderPipeline,adapter:t("GameCanvas"),assetOptions:r,customJointTextureLayouts:n.customJointTextureLayouts||[],physics:n.physics,orientation:n.orientation,exactFitScreen:n.exactFitScreen}}(n,e,t),t=n.game.init(t);try{e.customLayers&&e.customLayers.forEach(function(e){n.Layers.addLayer(e.name,e.bit)})}catch(e){console.warn(e)}return t?Promise.resolve(t):Promise.reject()}(n,i,t).then(function(){if(!i.renderPipeline)return n.game.run()}).then(function(){if(i.scriptPackages)return e=i.scriptPackages,Promise.all(e.map(s));var e}).then(function(){return e=i.jsList,n=Promise.resolve(),e.forEach(function(e){n=n.then(function(){return r("src/".concat(e))})}),n;var e,n}).then(function(){var e=i.hasResourcesBundle,n=i.hasStartSceneBundle;Promise.resolve();var t=(o=cc.AssetManager.BuiltinBundleName).MAIN,r=o.RESOURCES,o=o.START_SCENE,e=e?[r,t]:[t];return n&&e.push(o),e.reduce(function(e,n){return e.then(function(){return e=n,new Promise(function(t,r){cc.assetManager.loadBundle(e,function(e,n){if(e)return r(e);t(n)})});var e})},Promise.resolve())}).then(function(){if(i.renderPipeline)return n.game.run()}).then(function(){n.game.onStart=u.bind(null,n,i),u(n,i)})})}function s(e){return n.import("".concat(e))}}),{setters:[],execute:function(){}}});